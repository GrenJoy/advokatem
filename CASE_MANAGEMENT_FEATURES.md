# üîß –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –î–ï–õ–ê–ú–ò

## ‚úÖ **–î–û–ë–ê–í–õ–ï–ù–û:**

### **1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª:**
- **–ö–Ω–æ–ø–∫–∞:** "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–µ–ª–∞
- **–§—É–Ω–∫—Ü–∏–∏:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –∫–ª–∏–µ–Ω—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏—è, —Ç–∏–ø–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞, —Å—Ç–∞—Ç—É—Å–∞
- **API:** `PUT /api/optimized/cases/{id}`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è, –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### **2. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª:**
- **–ö–Ω–æ–ø–∫–∞:** "–í –∞—Ä—Ö–∏–≤" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–µ–ª–∞
- **–§—É–Ω–∫—Ü–∏–∏:** –î–µ–ª–æ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **API:** `POST /api/optimized/cases/{id}/archive`
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, —Ñ–∞–π–ª—ã, —á–∞—Ç –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤–µ

### **3. –£–¥–∞–ª–µ–Ω–∏–µ –¥–µ–ª:**
- **–ö–Ω–æ–ø–∫–∞:** "–£–¥–∞–ª–∏—Ç—å" (–∫—Ä–∞—Å–Ω–∞—è) –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–µ–ª–∞
- **–§—É–Ω–∫—Ü–∏–∏:** –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–µ–ª–∞ –∏ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **API:** `DELETE /api/optimized/cases/{id}`
- **CASCADE:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, —Ñ–∞–π–ª—ã, —á–∞—Ç, OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **4. –ü—Ä–æ—Å–º–æ—Ç—Ä –∞—Ä—Ö–∏–≤–∞:**
- **–ö–Ω–æ–ø–∫–∞:** "–ê—Ä—Ö–∏–≤" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
- **–§—É–Ω–∫—Ü–∏–∏:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–ª–∞
- **–°—Ç–∞—Ç—É—Å:** –î–µ–ª–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "archived" –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ

## üé® **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø UI:**

### **–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞:**
```jsx
// –ë—ã–ª–æ: —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π
<p className="text-sm text-gray-600 mb-4">{selectedCase.description}</p>

// –°—Ç–∞–ª–æ: —á–µ—Ä–Ω—ã–π
<p className="text-sm text-gray-900 mb-4">{selectedCase.description}</p>
```

### **–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```jsx
<div className="flex space-x-2">
  <Button onClick={downloadPDF}>–°–∫–∞—á–∞—Ç—å PDF</Button>
  <Button onClick={() => setShowEditCaseDialog(true)}>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</Button>
  <Button onClick={() => setShowArchiveDialog(true)}>–í –∞—Ä—Ö–∏–≤</Button>
  <Button variant="destructive" onClick={() => setShowDeleteDialog(true)}>–£–¥–∞–ª–∏—Ç—å</Button>
</div>
```

## üîß **API –≠–ù–î–ü–û–ò–ù–¢–´:**

### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞:**
```javascript
PUT /api/optimized/cases/{id}
{
  "title": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "client_name": "–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç",
  "description": "–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "case_type": "–ù–æ–≤—ã–π —Ç–∏–ø",
  "priority": "high",
  "status": "active"
}
```

### **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ª–∞:**
```javascript
POST /api/optimized/cases/{id}/archive
// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç status = 'archived'
```

### **–£–¥–∞–ª–µ–Ω–∏–µ –¥–µ–ª–∞:**
```javascript
DELETE /api/optimized/cases/{id}
// –£–¥–∞–ª—è–µ—Ç –¥–µ–ª–æ –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (CASCADE)
```

## üóÑÔ∏è **–ë–ê–ó–ê –î–ê–ù–ù–´–•:**

### **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–µ–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è:
- case_photos (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)
- photo_ocr_results (OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- case_additional_files (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)
- ai_chat_sessions (—Å–µ—Å—Å–∏–∏ —á–∞—Ç–∞)
- ai_chat_messages (—Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞)
- case_context_cache (–∫—ç—à –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
```

### **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```sql
-- –ü—Ä–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–∏:
UPDATE cases SET status = 'archived' WHERE id = ?
-- –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏
```

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞–º–∏:**
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ª—é–±—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ–ª–µ
- ‚úÖ **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ–ª–∞ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ **–£–¥–∞–ª–µ–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å –æ—á–∏—Å—Ç–∫–æ–π –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- ‚úÖ **–ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** - —Ö–æ—Ä–æ—à–æ —á–∏—Ç–∞–µ—Ç—Å—è
- ‚úÖ **–£–¥–æ–±–Ω—ã–µ –∫–Ω–æ–ø–∫–∏** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ** - –ª–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ª–∞–º–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!** üéâ
