{"file_contents":{"ADDITIONAL_FILES_SETUP.md":{"content":"# üìé –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤\n\n## ‚úÖ **–ß–¢–û –î–û–ë–ê–í–õ–ï–ù–û:**\n\n### **1. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**\n```sql\nCREATE TABLE case_additional_files (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    case_id UUID NOT NULL REFERENCES cases(id) ON DELETE CASCADE,\n    file_name VARCHAR(255) NOT NULL,\n    original_name VARCHAR(255) NOT NULL,\n    file_type VARCHAR(100),\n    file_size BIGINT,\n    file_path TEXT,\n    description TEXT,\n    is_important BOOLEAN DEFAULT false,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n```\n\n### **2. API Endpoints:**\n- `POST /api/optimized/additional-files/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞\n- `GET /api/optimized/cases/{id}/additional-files` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–µ–ª–∞\n- `DELETE /api/optimized/additional-files/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞\n\n### **3. Frontend —Ñ—É–Ω–∫—Ü–∏–∏:**\n- –ü–∞–Ω–µ–ª—å \"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã\" \n- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º\n- –û—Ç–º–µ—Ç–∫–∞ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤\n- –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤\n\n## üóÑÔ∏è **–ù–ê–°–¢–†–û–ô–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•:**\n\n### **–®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –±–∞–∑—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)**\n–í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:\n```sql\nDROP SCHEMA public CASCADE;\nCREATE SCHEMA public;\nGRANT ALL ON SCHEMA public TO postgres;\nGRANT ALL ON SCHEMA public TO public;\n```\n\n### **–®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É**\n–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `optimized_schema.sql` –≤ Supabase SQL Editor.\n\n### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**\n```sql\nSELECT table_name FROM information_schema.tables \nWHERE table_schema = 'public' \nORDER BY table_name;\n```\n\n–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü—ã:\n- cases\n- case_photos\n- photo_ocr_results\n- photo_comments\n- ai_chat_sessions\n- ai_chat_messages\n- case_context_cache\n- **case_additional_files** ‚Üê –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞\n\n## üéØ **–ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:**\n\n### **1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**\n1. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ª–æ\n2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É \"–§–∞–π–ª—ã\" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ\n3. –ù–∞–∂–º–∏—Ç–µ \"–î–æ–±–∞–≤–∏—Ç—å\"\n4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª (Word, PDF, Excel, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã)\n5. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)\n6. –û—Ç–º–µ—Ç—å—Ç–µ –∫–∞–∫ –≤–∞–∂–Ω—ã–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)\n7. –ù–∞–∂–º–∏—Ç–µ \"–ó–∞–≥—Ä—É–∑–∏—Ç—å\"\n\n### **2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤:**\n- –í—Å–µ —Ñ–∞–π–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ \"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã\"\n- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏, —Ä–∞–∑–º–µ—Ä\n- –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ–º–µ—á–µ–Ω—ã –∫—Ä–∞—Å–Ω—ã–º –±–µ–π–¥–∂–µ–º\n- –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∫–Ω–æ–ø–∫–æ–π –∫–æ—Ä–∑–∏–Ω—ã\n\n### **3. –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤:**\n- **Word –¥–æ–∫—É–º–µ–Ω—Ç—ã** (.doc, .docx)\n- **PDF —Ñ–∞–π–ª—ã** (.pdf)\n- **Excel —Ç–∞–±–ª–∏—Ü—ã** (.xls, .xlsx)\n- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã** (.txt, .rtf)\n\n## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**\n\n### **–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**\n- –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ BLOB\n- –ü—É—Ç—å: `/uploads/additional/{fileId}-{originalName}`\n- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10MB (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)\n\n### **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**\n- `original_name` - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞\n- `file_type` - MIME —Ç–∏–ø —Ñ–∞–π–ª–∞\n- `file_size` - —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö\n- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞\n- `is_important` - —Ñ–ª–∞–≥ –≤–∞–∂–Ω–æ—Å—Ç–∏\n\n### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**\n- –§–∞–π–ª—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –¥–µ–ª—É\n- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–µ–ª–∞ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã\n- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –Ω–∞ frontend\n\n## üéâ **–ì–û–¢–û–í–û!**\n\n–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:\n- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å Word –¥–æ–∫—É–º–µ–Ω—Ç—ã, PDF, Excel —Ñ–∞–π–ª—ã\n- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º\n- ‚úÖ –û—Ç–º–µ—á–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã\n- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –¥–µ–ª–∞\n- ‚úÖ –£–¥–∞–ª—è—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã\n- ‚úÖ –§–∞–π–ª—ã –ù–ï –∏–¥—É—Ç –≤ OCR (—Ç–æ–ª—å–∫–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)\n\n**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ\n","size_bytes":4410},"COMPLETE_SETUP.md":{"content":"# üèõÔ∏è –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π\n\n## üéØ **–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è:**\n- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª** —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏\n- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π** –≤ –¥–µ–ª–∞\n- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π** –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Å –ª–∏—Å—Ç–∞–Ω–∏–µ–º\n- ‚úÖ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º**\n- ‚úÖ **OCR —á–µ—Ä–µ–∑ Gemini 2.5 Flash** –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ‚úÖ **–ò–ò-—á–∞—Ç** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–µ–ª–∞ –∏ –≤—Å–µ—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ‚úÖ **PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ\n\n## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n### 1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase:**\n1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à Supabase –ø—Ä–æ–µ–∫—Ç\n2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**\n3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `complete_schema.sql`\n\n### 2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:**\n```\nPOSTGRES_URL=postgresql://postgres.fulczneorzmbeajdnrtt:–í–ê–®_–ü–ê–†–û–õ–¨@aws-1-eu-central-1.pooler.supabase.com:5432/postgres\nGEMINI_API_KEY=–≤–∞—à_gemini_api_–∫–ª—é—á\n```\n\n### 3. **–ü–æ–ª—É—á–∏—Ç–µ Gemini API –∫–ª—é—á:**\n1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Google AI Studio](https://aistudio.google.com/)\n2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á\n3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á\n\n### 4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Render**\n\n## üé® **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**\n\n### **–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª:**\n- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–ª–∞\n- –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞\n- –û–ø–∏—Å–∞–Ω–∏–µ\n- –¢–∏–ø –¥–µ–ª–∞ (–≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ, —É–≥–æ–ª–æ–≤–Ω–æ–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ)\n- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–Ω–∏–∑–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –≤—ã—Å–æ–∫–∏–π, —Å—Ä–æ—á–Ω—ã–π)\n\n### **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**\n- Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞\n- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JPG, PNG, PDF\n- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Gemini\n- –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n\n### **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**\n- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ª–∏—Å—Ç–∞–Ω–∏–µ–º\n- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º\n- –ü—Ä–æ—Å–º–æ—Ç—Ä OCR —Ç–µ–∫—Å—Ç–∞\n- –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã, –Ω–æ–º–µ—Ä–∞, –∏–º–µ–Ω–∞, —Å—É–º–º—ã\n\n### **–ò–ò-—á–∞—Ç:**\n- –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—Å–µ–≥–æ –¥–µ–ª–∞\n- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ\n- OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- –£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n\n## üóÑÔ∏è **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**\n\n### **–¢–∞–±–ª–∏—Ü—ã:**\n- `cases` - –¥–µ–ª–∞\n- `case_photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –¥–µ–ª–∞—Ö\n- `photo_ocr_results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã OCR\n- `photo_comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º\n- `ai_chat_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è –ò–ò-—á–∞—Ç–∞\n\n### **API Endpoints:**\n- `GET /api/legal/cases` - —Å–ø–∏—Å–æ–∫ –¥–µ–ª\n- `POST /api/legal/cases` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª–∞\n- `GET /api/legal/cases/{id}` - –¥–µ—Ç–∞–ª–∏ –¥–µ–ª–∞ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏\n- `POST /api/legal/photos/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- `GET /api/legal/photos/{id}/ocr-status` - —Å—Ç–∞—Ç—É—Å OCR\n- `POST /api/legal/photos/{id}/comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ\n- `POST /api/legal/cases/{id}/chat` - –ò–ò-—á–∞—Ç\n- `GET /api/legal/cases/{id}/chat` - –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞\n\n## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n\n–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- `https://your-app.onrender.com/api/legal/` - \"Legal Practice API Active\"\n- –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç\n- OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç\n- –ò–ò-—á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n## üéâ **–ì–æ—Ç–æ–≤–æ!**\n\n–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —Å:\n- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–µ–ª–∞–º–∏\n- –ó–∞–≥—Ä—É–∑–∫–æ–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- OCR –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —á–µ—Ä–µ–∑ Gemini\n- –ò–ò-—á–∞—Ç–æ–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- PostgreSQL –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö\n","size_bytes":4094},"COST_OPTIMIZATION.md":{"content":"# üí∞ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ Gemini API\n\n## üö® **–ü–†–û–ë–õ–ï–ú–ê:**\n–ü—Ä–∏ 10 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö —Å –ø–æ–ª–Ω—ã–º OCR —Ç–µ–∫—Å—Ç–æ–º –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ Gemini –º–æ–∂–µ—Ç —Å—Ç–æ–∏—Ç—å $0.50-2.00!\n\n## ‚úÖ **–†–ï–®–ï–ù–ò–ï: –£–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**\n\n### **1. –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**\n–í–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª–Ω–æ–≥–æ OCR —Ç–µ–∫—Å—Ç–∞, —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç —É–º–Ω–æ–µ —Ä–µ–∑—é–º–µ:\n\n**–ë—ã–ª–æ (–¥–æ—Ä–æ–≥–æ):**\n```\n–§–æ—Ç–æ 1: —Å—É–¥–µ–±–Ω–∞—è_–ø–æ–≤–µ—Å—Ç–∫–∞_1.jpg\nOCR: –°–£–î–ï–ë–ù–ê–Ø –ü–û–í–ï–°–¢–ö–ê\n–î–∞—Ç–∞ –∑–∞—Å–µ–¥–∞–Ω–∏—è: 15.03.2024\n–í—Ä–µ–º—è: 14:00\n–°—É–¥—å—è: –ò–≤–∞–Ω–æ–≤ –ò.–ò.\n–ê–¥—Ä–µ—Å: —É–ª. –õ–µ–Ω–∏–Ω–∞, 1\n–ö–∞–±–∏–Ω–µ—Ç: 205\n[500+ —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞]\n\n–§–æ—Ç–æ 2: —Å–ø—Ä–∞–≤–∫–∞_–æ_–¥–æ—Ö–æ–¥–∞—Ö.jpg\nOCR: –°–ü–†–ê–í–ö–ê –û –î–û–•–û–î–ê–•\n–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á\n–ü–µ—Ä–∏–æ–¥: —è–Ω–≤–∞—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å 2024\n–ó–∞—Ä–ø–ª–∞—Ç–∞: 50,000 —Ä—É–±\n[300+ —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞]\n```\n\n**–°—Ç–∞–ª–æ (–¥–µ—à–µ–≤–æ):**\n```\n–î–û–ö–£–ú–ï–ù–¢–´:\n–ó–∞–≥—Ä—É–∂–µ–Ω–æ 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (8 –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ):\n\n–°—É–¥–µ–±–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (3 —à—Ç.):\n  1. —Å—É–¥–µ–±–Ω–∞—è_–ø–æ–≤–µ—Å—Ç–∫–∞_1.jpg - –°–£–î–ï–ë–ù–ê–Ø –ü–û–í–ï–°–¢–ö–ê | –î–∞—Ç–∞ –∑–∞—Å–µ–¥–∞–Ω–∏—è: 15.03.2024 | –í—Ä–µ–º—è: 14:00\n  2. —Ä–µ—à–µ–Ω–∏–µ_—Å—É–¥–∞.pdf - –†–ï–®–ï–ù–ò–ï –°–£–î–ê | –î–µ–ª–æ ‚Ññ 2-1234/2024 | –°—É–¥—å—è: –ò–≤–∞–Ω–æ–≤ –ò.–ò.\n  3. –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ_—Å—É–¥–∞.pdf - –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï | –û –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã | –î–∞—Ç–∞: 10.03.2024\n\n–°–ø—Ä–∞–≤–∫–∏ –æ –¥–æ—Ö–æ–¥–∞—Ö (2 —à—Ç.):\n  1. —Å–ø—Ä–∞–≤–∫–∞_–æ_–¥–æ—Ö–æ–¥–∞—Ö.jpg - –°–ü–†–ê–í–ö–ê –û –î–û–•–û–î–ê–• | –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á | –ü–µ—Ä–∏–æ–¥: —è–Ω–≤–∞—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å 2024\n  2. —Å–ø—Ä–∞–≤–∫–∞_2–ù–î–§–õ.pdf - –°–ü–†–ê–í–ö–ê 2-–ù–î–§–õ | –ó–∞ 2023 –≥–æ–¥ | –î–æ—Ö–æ–¥: 600,000 —Ä—É–±\n```\n\n### **2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**\n–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã:\n- –°—É–¥–µ–±–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n- –°–ø—Ä–∞–≤–∫–∏ –æ –¥–æ—Ö–æ–¥–∞—Ö  \n- –£–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏\n- –î–æ–≥–æ–≤–æ—Ä—ã\n- –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞\n\n### **3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**\n–¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3 —Å—Ç—Ä–æ–∫–∏ –∫–∞–∂–¥–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–∞–º—É—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é)\n\n### **4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**\n–ö–æ–Ω—Ç–µ–∫—Å—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1 —á–∞—Å, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à\n\n## üìä **–°–†–ê–í–ù–ï–ù–ò–ï –°–¢–û–ò–ú–û–°–¢–ò:**\n\n### **–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤):**\n- –ü–æ–ª–Ω—ã–π OCR —Ç–µ–∫—Å—Ç: ~5000-8000 —Ç–æ–∫–µ–Ω–æ–≤\n- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –∑–∞–ø—Ä–æ—Å: $0.40-0.80\n- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å: $4.00-8.00\n- **–í –º–µ—Å—è—Ü: $120-240** üí∏\n\n### **–° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**\n- –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ: ~800-1200 —Ç–æ–∫–µ–Ω–æ–≤  \n- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –∑–∞–ø—Ä–æ—Å: $0.08-0.15\n- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å: $0.80-1.50\n- **–í –º–µ—Å—è—Ü: $24-45** üí∞\n\n### **–≠–∫–æ–Ω–æ–º–∏—è: 80-85%** üéâ\n\n## üß† **–£–ú–ù–´–ï –§–£–ù–ö–¶–ò–ò:**\n\n### **1. –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–µ–∑—é–º–µ**\n```javascript\nfunction createDocumentSummary(photos) {\n  // –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ —Ç–∏–ø–∞–º\n  // –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n  // –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–∑—é–º–µ\n}\n```\n\n### **2. –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∑–∞–ø—Ä–æ—Å—É**\n–ï—Å–ª–∏ –ò–ò –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:\n- API: `GET /api/optimized/photos/{id}/ocr-details`\n- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π OCR —Ç–µ–∫—Å—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞\n\n### **3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**\n```javascript\n// –ö–æ–Ω—Ç–µ–∫—Å—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1 —á–∞—Å\nif (cacheAge < 3600000) {\n  return cachedContext // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à\n}\n```\n\n## üéØ **–ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–ú–ï–†:**\n\n### **–í–æ–ø—Ä–æ—Å: \"–ö–∞–∫–∏–µ –¥–∞—Ç—ã –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?\"**\n\n**–ü—Ä–æ–º–ø—Ç (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π):**\n```\n–î–ï–õ–û: –†–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –±—Ä–∞–∫–∞ —Å —Ä–∞–∑–¥–µ–ª–æ–º –∏–º—É—â–µ—Å—Ç–≤–∞\n–ö–õ–ò–ï–ù–¢: –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á\n\n–î–û–ö–£–ú–ï–ù–¢–´:\n–ó–∞–≥—Ä—É–∂–µ–Ω–æ 10 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (8 –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ):\n–°—É–¥–µ–±–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (3 —à—Ç.):\n  1. —Å—É–¥–µ–±–Ω–∞—è_–ø–æ–≤–µ—Å—Ç–∫–∞_1.jpg - –î–∞—Ç–∞ –∑–∞—Å–µ–¥–∞–Ω–∏—è: 15.03.2024\n  2. —Ä–µ—à–µ–Ω–∏–µ_—Å—É–¥–∞.pdf - –î–µ–ª–æ ‚Ññ 2-1234/2024\n  3. –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ_—Å—É–¥–∞.pdf - –î–∞—Ç–∞: 10.03.2024\n\n–ò–ó–í–õ–ï–ß–ï–ù–ù–´–ï –î–ê–ù–ù–´–ï:\n- –î–∞—Ç—ã: 15.03.2024, 10.03.2024, —è–Ω–≤–∞—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å 2024\n- –ù–æ–º–µ—Ä–∞: 2-1234/2024\n- –ò–º–µ–Ω–∞: –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á, –ò–≤–∞–Ω–æ–≤ –ò.–ò.\n\n–í–û–ü–†–û–°: –ö–∞–∫–∏–µ –¥–∞—Ç—ã –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö?\n```\n\n**–û—Ç–≤–µ—Ç –ò–ò:**\n\"–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –Ω–∞–π–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞—Ç—ã:\n- 15.03.2024 - –¥–∞—Ç–∞ —Å—É–¥–µ–±–Ω–æ–≥–æ –∑–∞—Å–µ–¥–∞–Ω–∏—è\n- 10.03.2024 - –¥–∞—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—É–¥–∞  \n- —è–Ω–≤–∞—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å 2024 - –ø–µ—Ä–∏–æ–¥ —Å–ø—Ä–∞–≤–∫–∏ –æ –¥–æ—Ö–æ–¥–∞—Ö\"\n\n**–¢–æ–∫–µ–Ω—ã: ~400 (–≤–º–µ—Å—Ç–æ 5000+)** ‚úÖ\n\n## üöÄ **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:**\n\n### **1. Gemini 2.5 Flash Lite**\n–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –¥–µ—à–µ–≤—É—é –º–æ–¥–µ–ª—å:\n```javascript\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash-lite\" })\n```\n\n### **2. Batch API**\n–î–ª—è –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:\n- –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–Ω–∏–∂–∞–µ—Ç—Å—è –Ω–∞ 50%\n- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞\n\n### **3. –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**\n- –ö—Ä–∞—Ç–∫–∏–µ, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã\n- –ò–∑–±–µ–≥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n\n## üìà **–ú–û–ù–ò–¢–û–†–ò–ù–ì –°–¢–û–ò–ú–û–°–¢–ò:**\n\n### **–í API –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏:**\n```javascript\nreturn {\n  success: true,\n  response: aiResponse,\n  context_used: {\n    photos_count: context.summary.total_photos,\n    processed_photos: context.summary.processed_photos,\n    tokens_estimated: promptLength, // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤\n    cost_estimated: estimatedCost   // –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å\n  }\n}\n```\n\n## üéâ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n- ‚úÖ **80-85% —ç–∫–æ–Ω–æ–º–∏—è** –Ω–∞ API –≤—ã–∑–æ–≤–∞—Ö\n- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã** –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é  \n- ‚úÖ **–£–º–Ω–æ–µ —Ä–µ–∑—é–º–µ** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** –ø–æ –∑–∞–ø—Ä–æ—Å—É\n- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å—Ç–æ–∏–º–æ—Å—Ç–∏\n\n**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –±–µ–∑ —Ä–∞–∑–æ—Ä–µ–Ω–∏—è!** üí∞\n","size_bytes":7053},"DEPLOYMENT_GUIDE.md":{"content":"# üèõÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π\n\n## üìã –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞\n\n–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:\n- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞–º–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏\n- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞—Ç –∏ –Ω–æ–º–µ—Ä–æ–≤\n- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Next.js + Tailwind CSS\n\n## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render\n\n### –í–∞—Ä–∏–∞–Ω—Ç 1: MongoDB (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)\n\n#### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞\n```bash\n# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π\ngit clone <your-repo-url>\ncd advokatem-main\n\n# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏\nnpm install\n```\n\n#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è\n–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env.example`:\n\n```env\n# MongoDB Configuration\nMONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/\nDB_NAME=legal_practice\n\n# Google Vision API Configuration\nGOOGLE_VISION_API_KEY=your_google_vision_api_key_here\nGOOGLE_CLOUD_KEY_PATH=path_to_service_account_key.json\n\n# CORS Configuration\nCORS_ORIGINS=https://your-app-name.onrender.com\n\n# Next.js Configuration\nNODE_ENV=production\nPORT=3000\n```\n\n#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB Atlas\n1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/atlas)\n2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä\n3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n4. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n5. –î–æ–±–∞–≤—å—Ç–µ IP –∞–¥—Ä–µ—Å Render –≤ whitelist\n\n#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Vision API\n1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)\n2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π\n3. –í–∫–ª—é—á–∏—Ç–µ Vision API\n4. –°–æ–∑–¥–∞–π—Ç–µ Service Account\n5. –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á\n6. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á\n\n#### 5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render\n1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Render](https://render.com)\n2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π\n3. –í—ã–±–µ—Ä–∏—Ç–µ \"Web Service\"\n4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:\n   - **Build Command**: `npm install && npm run build`\n   - **Start Command**: `npm start`\n   - **Environment**: `Node`\n   - **Plan**: `Starter` (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)\n\n5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render Dashboard\n\n### –í–∞—Ä–∏–∞–Ω—Ç 2: PostgreSQL + Supabase\n\n#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase\n1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ [Supabase](https://supabase.com)\n2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor\n3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞ `supabase_migration.sql`\n\n#### 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è PostgreSQL\n–ó–∞–º–µ–Ω–∏—Ç–µ MongoDB –∫–æ–¥ –Ω–∞ PostgreSQL:\n\n```javascript\n// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pg –∏ @supabase/supabase-js\nnpm install pg @supabase/supabase-js\n\n// –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase\nimport { createClient } from '@supabase/supabase-js'\n\nconst supabase = createClient(\n  process.env.SUPABASE_URL,\n  process.env.SUPABASE_ANON_KEY\n)\n```\n\n## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n\n### MongoDB Collections\n- **cases** - –¥–µ–ª–∞\n- **case_documents** - –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å OCR\n\n### PostgreSQL Tables (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)\n- **cases** - –¥–µ–ª–∞\n- **case_documents** - –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å OCR\n\n## üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏\n\n- `render.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è\n- `database_schema.sql` - —Å—Ö–µ–º–∞ PostgreSQL\n- `supabase_migration.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è Supabase\n- `env.example` - –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è\n\n## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞\n\n```bash\n# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π\nnpm install\n\n# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏\nnpm run dev\n\n# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞\nnpm run build\nnpm start\n```\n\n## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n\n```bash\n# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ API\npython backend_test.py\n```\n\n## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥\n\n–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `https://your-app.onrender.com/api`\n- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞\n- ‚úÖ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç\n- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç\n\n## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫\n\n### –ü—Ä–æ–±–ª–µ–º—ã —Å MongoDB\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –∞–¥—Ä–µ—Å –¥–æ–±–∞–≤–ª–µ–Ω –≤ whitelist\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n\n### –ü—Ä–æ–±–ª–µ–º—ã —Å Google Vision API\n- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –≤–∫–ª—é—á–µ–Ω\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã –∏ –ª–∏–º–∏—Ç—ã\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞\n\n### –ü—Ä–æ–±–ª–µ–º—ã —Å Render\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard\n- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã\n- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç\n\n## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞\n\n–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:\n1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard\n2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã\n3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö\n4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Google Vision API —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏\n\n–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:\n1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç\n3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n4. –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã\n","size_bytes":6015},"FINAL_FRONTEND_FIX.md":{"content":"# üîß –§–ò–ù–ê–õ–¨–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –§–†–û–ù–¢–ï–ù–î–ê\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### **1. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–æ—Ö–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –Ω–µ—É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ\n- **–†–µ—à–µ–Ω–∏–µ:** –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –æ–±—ã—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π\n\n```jsx\n// –ë—ã–ª–æ: —Å–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å overflow-hidden\n<DialogContent className=\"max-w-6xl max-h-[95vh] p-0 overflow-hidden\">\n  <div className=\"flex flex-col h-full\">\n    <div className=\"sticky top-0 z-10\">...</div>\n    <div className=\"flex-1 overflow-y-auto\">...</div>\n  </div>\n</DialogContent>\n\n// –°—Ç–∞–ª–æ: –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –æ–±—ã—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π\n<DialogContent className=\"max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n  <div className=\"space-y-4\">\n    <div className=\"flex justify-between items-center\">...</div>\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">...</div>\n  </div>\n</DialogContent>\n```\n\n### **2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–æ—Ö–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑-–∑–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n- **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–∞–π–ª–µ\n\n```jsx\n<div className=\"text-center mb-4\">\n  <div className=\"w-24 h-24 mx-auto mb-3 bg-gray-200 rounded-lg flex items-center justify-center\">\n    <FileText className=\"h-12 w-12 text-gray-400\" />\n  </div>\n  <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">\n    {selectedPhoto?.original_name}\n  </h3>\n  <p className=\"text-sm text-gray-500\">\n    –ó–∞–≥—Ä—É–∂–µ–Ω: {selectedPhoto && new Date(selectedPhoto.created_at).toLocaleDateString('ru-RU')}\n  </p>\n  <p className=\"text-sm text-gray-500\">\n    –†–∞–∑–º–µ—Ä: {selectedPhoto && (selectedPhoto.file_size / 1024).toFixed(1)} KB\n  </p>\n</div>\n```\n\n### **3. OCR —Ç–µ–∫—Å—Ç:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—É–¥–æ–±–Ω–æ –ª–∏—Å—Ç–∞—Ç—å, –ø–ª–æ—Ö–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è\n- **–†–µ—à–µ–Ω–∏–µ:** –û—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å —Ö–æ—Ä–æ—à–µ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π\n\n```jsx\n<div className=\"bg-gray-50 rounded-lg p-4\">\n  <div className=\"flex items-center mb-3\">\n    <FileText className=\"h-5 w-5 text-blue-600 mr-2\" />\n    <h4 className=\"text-lg font-semibold text-gray-800\">–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h4>\n  </div>\n  <div className=\"bg-white rounded-lg p-4 border\">\n    <p className=\"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed\">\n      {selectedPhoto.raw_text}\n    </p>\n  </div>\n</div>\n```\n\n### **4. –ù–∞–≤–∏–≥–∞—Ü–∏—è:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∏ –º–µ—à–∞–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—É\n- **–†–µ—à–µ–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∏ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º\n\n```jsx\n<div className=\"flex justify-between mt-4\">\n  <Button onClick={prevPhoto}>‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</Button>\n  <Button onClick={nextPhoto}>–°–ª–µ–¥—É—é—â–∏–π ‚Üí</Button>\n</div>\n```\n\n### **5. –ò–ò-—á–∞—Ç:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –≤–∏–¥–µ–ª –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n- **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π\n\n```javascript\n// –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö\n–î–û–ö–£–ú–ï–ù–¢–´ (${context.photos.length} —à—Ç.):\n${context.photos.map((photo, index) => `\n${index + 1}. ${photo.original_name}\n   - –°—Ç–∞—Ç—É—Å OCR: ${photo.raw_text ? '–û–±—Ä–∞–±–æ—Ç–∞–Ω' : '–ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω'}\n   ${photo.raw_text ? `- –¢–µ–∫—Å—Ç: ${photo.raw_text.substring(0, 200)}...` : ''}\n   ${photo.extracted_dates && photo.extracted_dates.length > 0 ? `- –î–∞—Ç—ã: ${photo.extracted_dates.join(', ')}` : ''}\n`).join('')}\n```\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n### **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:**\n- ‚úÖ **–û–±—ã—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\n- ‚úÖ **–£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –∫–Ω–æ–ø–∫–∏ –Ω–µ –º–µ—à–∞—é—Ç\n- ‚úÖ **–•–æ—Ä–æ—à–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è** - —á–∏—Ç–∞–µ–º–æ –∏ –∫—Ä–∞—Å–∏–≤–æ\n\n### **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ:**\n- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ** - —Ä–∞–∑–º–µ—Ä, –¥–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏\n- ‚úÖ **–°—Ç–∞—Ç—É—Å OCR** - –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∏–ª–∏ –Ω–µ—Ç\n- ‚úÖ **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** - –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤\n\n### **–ò–ò-—á–∞—Ç:**\n- ‚úÖ **–í–∏–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã** - –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\n- ‚úÖ **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç OCR** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç\n- ‚úÖ **–û—Ç–≤–µ—á–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ** - –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n\n## üöÄ **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**\n\n### **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞:**\n- –û–±—ã—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –º—ã—à—å—é\n- –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–¥–∞–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É\n- –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ\n\n### **–ù–∞–≤–∏–≥–∞—Ü–∏—è:**\n- –ö–Ω–æ–ø–∫–∏ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º\n- –ù–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç\n- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã\n\n### **–ò–ò-–±–æ—Ç:**\n- –í–∏–¥–∏—Ç –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã\n- –î–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã\n\n**–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω! –¢–µ–ø–µ—Ä—å –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–¥–æ–±–Ω–æ –∏ –∫—Ä–∞—Å–∏–≤–æ.** üé®\n","size_bytes":5225},"FINAL_SETUP.md":{"content":"# üöÄ –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ - PostgreSQL\n\n## ‚úÖ **–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:**\n- ‚úÖ Frontend –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `/api/postgres/`\n- ‚úÖ PostgreSQL API —Å–æ–∑–¥–∞–Ω\n- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã\n\n## üîß **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:**\n\n### 1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render Dashboard:**\n```\nPOSTGRES_URL=postgresql://postgres.fulczneorzmbeajdnrtt:–í–ê–®_–ü–ê–†–û–õ–¨@aws-1-eu-central-1.pooler.supabase.com:5432/postgres\n```\n\n**–£–¥–∞–ª–∏—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**\n- `MONGO_URL`\n- `DB_NAME`\n\n### 2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase:**\n1. –ó–∞–π–¥–∏—Ç–µ –≤ Supabase Dashboard\n2. **SQL Editor** ‚Üí **New Query**\n3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ `supabase_migration.sql`\n\n### 3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**\n1. Supabase Dashboard ‚Üí **Settings** ‚Üí **Database**\n2. **Reset database password**\n3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å\n4. –û–±–Ω–æ–≤–∏—Ç–µ `POSTGRES_URL` –≤ Render —Å –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º\n\n### 4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Render**\n\n## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- `https://your-app.onrender.com/api/postgres/` - \"Legal Practice API Active (PostgreSQL)\"\n- `https://your-app.onrender.com/api/test` - \"API is working!\"\n\n## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å PostgreSQL\n- ‚úÖ –ù–µ –±—É–¥–µ—Ç –æ—à–∏–±–æ–∫ MongoDB\n- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã\n\n## ‚ö° **–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç:**\n1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-app.onrender.com/api/test`\n2. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º \"API is working!\"\n3. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å —É—Å–ø–µ—à–Ω–æ\n","size_bytes":1922},"FINAL_SETUP_COMPLETE.md":{"content":"# üéâ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê - –í–°–ï –ì–û–¢–û–í–û!\n\n## ‚úÖ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### 1. **Frontend –æ–±–Ω–æ–≤–ª–µ–Ω:**\n- ‚úÖ –í—Å–µ API –≤—ã–∑–æ–≤—ã –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ `/api/optimized/`\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ò–ò-—á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º\n- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ OCR —Ç–µ–∫—Å—Ç–∞\n\n### 2. **API –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω:**\n- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–æ—É—Ç—ã\n- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `/api/optimized/`\n- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ—Å—Å–∏–π –ò–ò-—á–∞—Ç–∞\n- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n- ‚úÖ Gemini 2.5 Flash –¥–ª—è OCR\n\n### 3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**\n- ‚úÖ –ï–¥–∏–Ω–∞—è —Å—Ö–µ–º–∞ `optimized_schema.sql`\n- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –¥–ª—è —Å–µ—Å—Å–∏–π –∏ –∫—ç—à–∞\n- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ PostgreSQL\n\n### 4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**\n- ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã –¥–æ –º–∏–Ω–∏–º—É–º–∞\n- ‚úÖ –¢–æ–ª—å–∫–æ PostgreSQL + Gemini\n\n## üöÄ **–ü–û–®–ê–ì–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê:**\n\n### **–®–∞–≥ 1: –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**\n```sql\n-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ optimized_schema.sql –≤ Supabase\n```\n\n### **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render**\n```\nPOSTGRES_URL=postgresql://postgres.fulczneorzmbeajdnrtt:[–í–ê–®-–ü–ê–†–û–õ–¨]@aws-1-eu-central-1.pooler.supabase.com:5432/postgres\nGEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_gemini\nCORS_ORIGINS=https://–≤–∞—à–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.onrender.com\n```\n\n### **–®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ Gemini API –∫–ª—é—á**\n1. –ò–¥–∏—Ç–µ –Ω–∞ [Google AI Studio](https://aistudio.google.com/)\n2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç\n3. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á\n4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ Render\n\n### **–®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**\n- –í Render –Ω–∞–∂–º–∏—Ç–µ \"Manual Deploy\"\n- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏\n\n## üéØ **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**\n\n### **‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª:**\n- –ù–∞–∑–≤–∞–Ω–∏–µ, –∫–ª–∏–µ–Ω—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ\n- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–Ω–∏–∑–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –≤—ã—Å–æ–∫–∏–π, —Å—Ä–æ—á–Ω—ã–π)\n- –¢–∏–ø –¥–µ–ª–∞\n\n### **‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**\n- Drag & Drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\n- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π OCR —á–µ—Ä–µ–∑ Gemini\n- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏\n\n### **‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:**\n- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ª–∏—Å—Ç–∞–Ω–∏–µ–º\n- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ OCR —Ç–µ–∫—Å—Ç–∞\n- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏\n\n### **‚úÖ –ò–ò-—á–∞—Ç:**\n- –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–ª–∞ + —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\n- –ü–∞–º—è—Ç—å –æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\n- –°–µ—Å—Å–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–µ–ª–∞\n- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏\n\n### **‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º:**\n- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤\n- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ñ–æ—Ç–æ\n\n## üß† **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ò–ò:**\n\n### **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**\n- 65-70% —Å–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ API\n- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ 1 —á–∞—Å\n- –ò—Å—Ç–æ—Ä–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π\n- –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã\n\n### **–ü–∞–º—è—Ç—å –ò–ò:**\n- –°–µ—Å—Å–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö\n- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞\n- –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–ª–∞ + OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã\n\n## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**\n\n### **API Endpoints:**\n- `GET /api/optimized/cases` - —Å–ø–∏—Å–æ–∫ –¥–µ–ª\n- `POST /api/optimized/cases` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª–∞\n- `GET /api/optimized/cases/{id}` - –¥–µ—Ç–∞–ª–∏ –¥–µ–ª–∞\n- `POST /api/optimized/photos/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ\n- `GET /api/optimized/photos/{id}/ocr-status` - —Å—Ç–∞—Ç—É—Å OCR\n- `POST /api/optimized/cases/{id}/chat` - –ò–ò-—á–∞—Ç\n- `GET /api/optimized/cases/{id}/chat` - –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞\n\n### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**\n- `cases` - –¥–µ–ª–∞\n- `case_photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\n- `photo_ocr_results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã OCR\n- `photo_comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n- `ai_chat_sessions` - —Å–µ—Å—Å–∏–∏ —á–∞—Ç–∞\n- `ai_chat_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è\n- `case_context_cache` - –∫—ç—à –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n## üéâ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**\n\n–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—à–µ–º—É –ø–ª–∞–Ω—É:\n- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏\n- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ‚úÖ OCR —á–µ—Ä–µ–∑ Gemini 2.5 Flash\n- ‚úÖ –ò–ò-—á–∞—Ç —Å –ø–∞–º—è—Ç—å—é –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º\n- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º\n- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤\n- ‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n\n**–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è!** üöÄ\n","size_bytes":4868},"FIND_FILES_BUTTON.md":{"content":"# üìé –ì–î–ï –ù–ê–ô–¢–ò –ö–ù–û–ü–ö–£ \"–î–û–ü. –§–ê–ô–õ–´\"\n\n## üîç **–ú–ï–°–¢–û–ü–û–õ–û–ñ–ï–ù–ò–ï –ö–ù–û–ü–ö–ò:**\n\n### **1. –í –∑–∞–≥–æ–ª–æ–≤–∫–µ (–≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å):**\n- –ö–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π üìé –∏ —Ç–µ–∫—Å—Ç–æ–º \"–§–∞–π–ª—ã\"\n- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω–æ –¥–µ–ª–æ\n- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ \"PDF\" –∏ \"–ò–ò-—á–∞—Ç\"\n\n### **2. –í –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–ø–æ–¥—Ä–æ–±–Ω–µ–µ):**\n- –ù–æ–≤–∞—è –ø–∞–Ω–µ–ª—å \"–î–µ–π—Å—Ç–≤–∏—è —Å –¥–µ–ª–æ–º\" \n- –ö–Ω–æ–ø–∫–∞ \"–î–æ–ø. —Ñ–∞–π–ª—ã\" —Å –∏–∫–æ–Ω–∫–æ–π üìé\n- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–¥ –¥–µ—Ç–∞–ª—è–º–∏ –¥–µ–ª–∞\n\n## üéØ **–ö–ê–ö –ù–ê–ô–¢–ò:**\n\n### **–®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ª–æ**\n- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–µ –¥–µ–ª–æ –≤ –ª–µ–≤–æ–º —Å–ø–∏—Å–∫–µ\n- –î–µ–ª–æ –¥–æ–ª–∂–Ω–æ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å—Å—è —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º\n\n### **–®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É**\n- **–í –∑–∞–≥–æ–ª–æ–≤–∫–µ:** –ò—â–∏—Ç–µ –∏–∫–æ–Ω–∫—É üìé —Å —Ç–µ–∫—Å—Ç–æ–º \"–§–∞–π–ª—ã\"\n- **–í –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏:** –ò—â–∏—Ç–µ –ø–∞–Ω–µ–ª—å \"–î–µ–π—Å—Ç–≤–∏—è —Å –¥–µ–ª–æ–º\" —Å –∫–Ω–æ–ø–∫–æ–π \"–î–æ–ø. —Ñ–∞–π–ª—ã\"\n\n### **–®–∞–≥ 3: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É**\n- –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–î–æ–ø. —Ñ–∞–π–ª—ã\" –∏–ª–∏ \"–§–∞–π–ª—ã\"\n- –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏\n\n## üñºÔ∏è **–í–ò–ó–£–ê–õ–¨–ù–û–ï –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï:**\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ –ê–¥–≤–æ–∫–∞—Ç—Å–∫–∞—è –ü—Ä–∞–∫—Ç–∏–∫–∞                    [üìé–§–∞–π–ª—ã] [üì•PDF] [üí¨–ò–ò-—á–∞—Ç] [‚öôÔ∏è–ù–∞—Å—Ç—Ä–æ–π–∫–∏] ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ –î–µ–π—Å—Ç–≤–∏—è —Å –¥–µ–ª–æ–º                    [üìé–î–æ–ø. —Ñ–∞–π–ª—ã] [üì•–°–∫–∞—á–∞—Ç—å PDF] [üí¨–ò–ò-—á–∞—Ç] ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ –î–µ—Ç–∞–ª–∏ –¥–µ–ª–∞...                                         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## ‚ùì **–ï–°–õ–ò –ù–ï –í–ò–î–ò–¢–ï –ö–ù–û–ü–ö–£:**\n\n### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**\n1. **–í—ã–±—Ä–∞–Ω–æ –ª–∏ –¥–µ–ª–æ?** - –î–µ–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥—Å–≤–µ—á–µ–Ω–æ —Å–∏–Ω–∏–º\n2. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** - –ù–∞–∂–º–∏—Ç–µ F5 –∏–ª–∏ Ctrl+R\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –æ—à–∏–±–∫–∏\n\n### **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**\n- –î–µ–ª–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ\n- –û—à–∏–±–∫–∞ JavaScript\n- –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞\n\n## üéâ **–ü–û–°–õ–ï –ù–ê–ñ–ê–¢–ò–Ø –ö–ù–û–ü–ö–ò:**\n\n–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å \"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã\" –≥–¥–µ –º–æ–∂–Ω–æ:\n- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å Word, PDF, Excel —Ñ–∞–π–ª—ã\n- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º\n- ‚úÖ –û—Ç–º–µ—á–∞—Ç—å –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã\n- ‚úÖ –£–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã\n- ‚úÖ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –¥–µ–ª–∞\n\n**–ö–Ω–æ–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –¥–µ–ª–∞!** üöÄ\n","size_bytes":3811},"FRONTEND_FIXES.md":{"content":"# üé® –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –§–†–û–ù–¢–ï–ù–î–ê\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### **1. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**\n- **–ë—ã–ª–æ:** –ß–µ—Ä–Ω—ã–π placeholder —Å —Å–µ—Ä—ã–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–º\n- **–°—Ç–∞–ª–æ:** –ö—Ä–∞—Å–∏–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π —Ñ–∞–π–ª–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π\n\n```jsx\n// –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\n<div className=\"text-center\">\n  <div className=\"bg-white rounded-lg shadow-lg p-8 mb-4\">\n    <div className=\"w-32 h-32 mx-auto mb-4 bg-gray-200 rounded-lg flex items-center justify-center\">\n      <FileText className=\"h-16 w-16 text-gray-400\" />\n    </div>\n    <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\n      {selectedPhoto.original_name}\n    </h3>\n    // ... –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ\n  </div>\n</div>\n```\n\n### **2. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞:**\n- **–ë—ã–ª–æ:** –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –±–µ–∑ —Å—Ç–∏–ª–µ–π\n- **–°—Ç–∞–ª–æ:** –ö—Ä–∞—Å–∏–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Ä–∞–º–∫–æ–π\n\n```jsx\n<div className=\"p-6 border-t bg-gray-50\">\n  <div className=\"flex items-center mb-4\">\n    <FileText className=\"h-5 w-5 text-blue-600 mr-2\" />\n    <h4 className=\"text-lg font-semibold text-gray-800\">–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h4>\n  </div>\n  <div className=\"bg-white rounded-lg p-4 shadow-sm border max-h-60 overflow-y-auto\">\n    <p className=\"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed\">\n      {selectedPhoto.raw_text}\n    </p>\n  </div>\n</div>\n```\n\n### **3. –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**\n- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞\n- **–§—É–Ω–∫—Ü–∏—è:** `downloadAdditionalFile(file)`\n\n```jsx\n<Button\n  variant=\"ghost\"\n  size=\"sm\"\n  onClick={() => downloadAdditionalFile(file)}\n  className=\"text-blue-600 hover:text-blue-700\"\n  title=\"–°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª\"\n>\n  <Download className=\"h-4 w-4\" />\n</Button>\n```\n\n### **4. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**\n- **–ë—ã–ª–æ:** –ü—Ä–æ—Å—Ç—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏\n- **–°—Ç–∞–ª–æ:** –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–µ–π\n\n```jsx\n<div className=\"flex items-start space-x-3\">\n  <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n    <FileText className=\"h-6 w-6 text-blue-600\" />\n  </div>\n  <div className=\"flex-1 min-w-0\">\n    // ... –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–µ\n  </div>\n</div>\n```\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n### **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**\n- ‚úÖ –ö—Ä–∞—Å–∏–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –≤–º–µ—Å—Ç–æ placeholder\n- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ (—Ä–∞–∑–º–µ—Ä, –¥–∞—Ç–∞)\n- ‚úÖ –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç\n- ‚úÖ –ü–æ–∫–∞–∑ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ OCR\n\n### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:**\n- ‚úÖ –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞\n- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫\n- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞\n\n### **–°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**\n- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏\n- ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä OCR —Ç–µ–∫—Å—Ç–∞\n- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞\n\n## üöÄ **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**\n\n### **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**\n- –°–æ–∑–¥–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π\n- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä\n- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ\n\n### **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º:**\n- –ö–Ω–æ–ø–∫–∏ \"‚Üê\" –∏ \"‚Üí\" –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è\n- –°—á–µ—Ç—á–∏–∫ \"1 –∏–∑ 1\" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ\n- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã\n\n**–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω! –¢–µ–ø–µ—Ä—å –≤—Å–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫—Ä–∞—Å–∏–≤–æ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.** üé®\n","size_bytes":3986},"GEMINI_API_SETUP.md":{"content":"# üîë –ù–ê–°–¢–†–û–ô–ö–ê GEMINI API –ö–õ–Æ–ß–ê\n\n## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê:**\n```\nAPI Error: [400 Bad Request] API key not valid. Please pass a valid API key.\n```\n\n## ‚úÖ **–†–ï–®–ï–ù–ò–ï:**\n\n### **–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á Gemini**\n\n1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:** https://aistudio.google.com/app/apikey\n2. **–í–æ–π–¥–∏—Ç–µ –≤ Google –∞–∫–∫–∞—É–Ω—Ç**\n3. **–ù–∞–∂–º–∏—Ç–µ \"Create API Key\"**\n4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AIza...`)\n\n### **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á –≤ Render**\n\n1. **–û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard:** https://dashboard.render.com\n2. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å** `advokatem`\n3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ \"Environment\"**\n4. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:**\n   - **Key:** `GEMINI_API_KEY`\n   - **Value:** `–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å` (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å AIza...)\n5. **–ù–∞–∂–º–∏—Ç–µ \"Save Changes\"**\n\n### **–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å**\n\n1. **–í Render Dashboard –Ω–∞–∂–º–∏—Ç–µ \"Manual Deploy\"**\n2. **–í—ã–±–µ—Ä–∏—Ç–µ \"Deploy latest commit\"**\n3. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è**\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–∞:**\n- ‚úÖ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å\n- ‚úÖ –ò–ò-—á–∞—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å\n- ‚úÖ –û—à–∏–±–∫–∞ \"API key not valid\" –∏—Å—á–µ–∑–Ω–µ—Ç\n\n### **–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nStarting OCR processing for photo [ID] with Gemini 2.5 Flash\nOCR completed successfully\n```\n\n## üö® **–í–ê–ñ–ù–û:**\n\n- **–ù–ï –î–ï–õ–ò–¢–ï–°–¨** API –∫–ª—é—á–æ–º –ø—É–±–ª–∏—á–Ω–æ\n- **–ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï** –∫–ª—é—á –≤ –∫–æ–¥\n- **–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n\n## üí∞ **–°–¢–û–ò–ú–û–°–¢–¨:**\n\n- **Gemini 2.5 Flash:** ~$0.075 –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤\n- **OCR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** ~$0.001-0.01 –∑–∞ —Ñ–æ—Ç–æ\n- **–ò–ò-—á–∞—Ç:** ~$0.0001-0.001 –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–∞:\n- üì∏ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ü§ñ **–ò–ò-—á–∞—Ç** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–µ–ª\n- üìÑ **PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞–º–∏\n- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏\n\n**–ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å!** üöÄ\n","size_bytes":2340},"GEMINI_API_UPDATE.md":{"content":"# üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï GEMINI API\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´:**\n\n### **1. –û–±–Ω–æ–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:**\n- ‚ùå `@google/generative-ai` (—Å—Ç–∞—Ä—ã–π)\n- ‚úÖ `@google/genai` (–Ω–æ–≤—ã–π)\n\n### **2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**\n- ‚ùå `new GoogleGenerativeAI(apiKey)`\n- ‚úÖ `new GoogleGenAI({ apiKey })`\n\n### **3. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã API:**\n- ‚ùå `model.generateContent([image, prompt])`\n- ‚úÖ `genAI.models.generateContent({ model, contents })`\n\n### **4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å:**\n- ‚ùå `gemini-1.5-flash` (—Å—Ç–∞—Ä–∞—è)\n- ‚úÖ `gemini-2.5-flash` (–Ω–æ–≤–∞—è)\n\n## üöÄ **–ß–¢–û –ò–ó–ú–ï–ù–ò–õ–û–°–¨:**\n\n### **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞:**\n```javascript\n// –°—Ç–∞—Ä—ã–π –∫–æ–¥\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash-lite\" })\nconst result = await model.generateContent([image, prompt])\n\n// –ù–æ–≤—ã–π –∫–æ–¥\nconst result = await genAI.models.generateContent({\n  model: \"gemini-2.5-flash\",\n  contents: [image, { text: prompt }]\n})\n```\n\n### **AI Chat:**\n```javascript\n// –°—Ç–∞—Ä—ã–π –∫–æ–¥\nconst model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" })\nconst result = await model.generateContent(prompt)\n\n// –ù–æ–≤—ã–π –∫–æ–¥\nconst result = await genAI.models.generateContent({\n  model: \"gemini-2.5-flash\",\n  contents: prompt\n})\n```\n\n## üì¶ **–û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô:**\n\n### **package.json:**\n```json\n{\n  \"dependencies\": {\n    \"@google/genai\": \"^0.2.1\"\n  }\n}\n```\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nStarting OCR processing for photo [ID] with Gemini 2.5 Flash\nOCR completed successfully\n```\n\n### **–ë–µ–∑ –æ—à–∏–±–æ–∫:**\n- ‚ùå `models/gemini-2.5-flash-lite is not found`\n- ‚ùå `invalid input syntax for type uuid: \"undefined\"`\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:\n- ‚úÖ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å Gemini 2.5 Flash\n- ‚úÖ **–ò–ò-—á–∞—Ç** —Å –Ω–æ–≤–æ–π –º–æ–¥–µ–ª—å—é\n- ‚úÖ **–ö–Ω–æ–ø–∫–∞ \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞\n- ‚úÖ **UUID –æ—à–∏–±–∫–∏** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã\n\n## ‚è≥ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**\n\n1. **–î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)\n2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OCR** - –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ò–ò-—á–∞—Ç** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞\n\n**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è.** üöÄ\n","size_bytes":2530},"GEMINI_CACHING_SETUP.md":{"content":"# üöÄ –ö–≠–®–ò–†–û–í–ê–ù–ò–ï –ö–û–ù–¢–ï–ö–°–¢–ê GEMINI\n\n## ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:**\n\n### **1. –Ø–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**\n- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** –∫—ç—à–∏—Ä—É–µ—Ç—Å—è (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ª–µ, –¥–æ–∫—É–º–µ–Ω—Ç—ã)\n- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ (–∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞, –≤–æ–ø—Ä–æ—Å—ã)\n- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∫—ç—à–µ–º —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö\n\n### **2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç:**\n- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–µ–ª–µ\n- **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –∫—ç—à–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π\n- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n## üîß **–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢:**\n\n### **–°–æ–∑–¥–∞–Ω–∏–µ –∫—ç—à–∞:**\n```javascript\n// –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –≤ —á–∞—Ç–µ\nconst cache = await genAI.caches.create({\n  model: \"gemini-2.5-flash\",\n  config: {\n    contents: staticContext, // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ª–µ, –¥–æ–∫—É–º–µ–Ω—Ç—ã\n    systemInstruction: \"–¢—ã - –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–¥–≤–æ–∫–∞—Ç–∞...\"\n  }\n})\n```\n\n### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞:**\n```javascript\n// –ü—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\nconst result = await genAI.models.generateContent({\n  model: \"gemini-2.5-flash\",\n  contents: dynamicPrompt, // –¢–æ–ª—å–∫–æ –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ + –≤–æ–ø—Ä–æ—Å\n  config: { cachedContent: cacheName }\n})\n```\n\n## üí∞ **–≠–ö–û–ù–û–ú–ò–Ø –ó–ê–¢–†–ê–¢:**\n\n### **–ë–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**\n- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç + –∏—Å—Ç–æ—Ä–∏—è + –≤–æ–ø—Ä–æ—Å\n- –í—ã—Å–æ–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ç–æ–∫–µ–Ω—ã\n\n### **–° –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**\n- –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = —Å–æ–∑–¥–∞–Ω–∏–µ –∫—ç—à–∞ + –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç\n- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ = —Ç–æ–ª—å–∫–æ –∏—Å—Ç–æ—Ä–∏—è + –≤–æ–ø—Ä–æ—Å (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à)\n- **–≠–∫–æ–Ω–æ–º–∏—è –¥–æ 70%** –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ç–æ–∫–µ–Ω–∞—Ö\n\n## üóÑÔ∏è **–£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–≠–®–ï–ú:**\n\n### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:**\n- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–µ–ª–µ\n- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ —Ñ–æ—Ç–æ\n\n### **–†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:**\n```javascript\nawait clearCaseCache(caseId, db)\n```\n\n## üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì:**\n\n### **–õ–æ–≥–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**\n```\nCache created: projects/xxx/caches/yyy\nUsing cached context for case: [caseId]\nDeleted cache: projects/xxx/caches/yyy\n```\n\n### **–ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**\n- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤\n- –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞\n- –≠–∫–æ–Ω–æ–º–∏—è –∑–∞—Ç—Ä–∞—Ç\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n### **–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:**\n- ‚úÖ **–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç** –Ω–∞ 50-70%\n- ‚úÖ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤** –ò–ò-—á–∞—Ç–∞\n- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –∫—ç—à–µ–º\n- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞** –æ—Ç–≤–µ—Ç–æ–≤\n\n### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**\n- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä** –∫—ç—à–∞: 1024 —Ç–æ–∫–µ–Ω–∞\n- **TTL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 1 —á–∞—Å\n- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nCache created: projects/xxx/caches/yyy\nUsing cached context for case: [caseId]\nResponse generated with cache\n```\n\n### **–ë–µ–∑ –æ—à–∏–±–æ–∫:**\n- ‚ùå `Cache creation failed`\n- ‚ùå `Cache not found`\n\n## ‚ö° **–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:**\n\n### **–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å:**\n- –°–æ–∑–¥–∞–Ω–∏–µ –∫—ç—à–∞ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞\n- –í—Ä–µ–º—è: ~2-3 —Å–µ–∫—É–Ω–¥—ã\n\n### **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã:**\n- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ + –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞\n- –í—Ä–µ–º—è: ~1-2 —Å–µ–∫—É–Ω–¥—ã\n\n**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ! –≠–∫–æ–Ω–æ–º–∏—è –∑–∞—Ç—Ä–∞—Ç –¥–æ 70%** üöÄ\n","size_bytes":4177},"GEMINI_FINAL_FIX.md":{"content":"# üîß –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï GEMINI\n\n## ‚ùå **–ü–†–û–ë–õ–ï–ú–´:**\n\n1. **UUID –æ—à–∏–±–∫–∞:** `invalid input syntax for type uuid: \"undefined\"`\n2. **Array –æ—à–∏–±–∫–∞:** `malformed array literal: \"[]\"`\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**\n\n### **1. UUID –æ—à–∏–±–∫–∞:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** `caseId` –º–æ–∂–µ—Ç –±—ã—Ç—å `undefined`\n- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ `getOrCreateActiveSession()`\n\n```javascript\nasync function getOrCreateActiveSession(caseId, db) {\n  if (!caseId) {\n    throw new Error('Case ID is required for session creation')\n  }\n  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥\n}\n```\n\n### **2. Array –æ—à–∏–±–∫–∞:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** `JSON.stringify([])` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å PostgreSQL\n- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–¥–∞–µ–º –º–∞—Å—Å–∏–≤—ã –Ω–∞–ø—Ä—è–º—É—é\n\n```javascript\n// –ë—ã–ª–æ:\nJSON.stringify(extractedDates)\n\n// –°—Ç–∞–ª–æ:\nextractedDates\n```\n\n### **3. –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å `undefined`\n- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏\n\n```javascript\nfunction extractDatesFromText(text) {\n  if (!text) return []\n  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥\n}\n```\n\n## üöÄ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### **UUID –ø—Ä–æ–≤–µ—Ä–∫–∏:**\n- ‚úÖ `getOrCreateActiveSession()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `caseId`\n- ‚úÖ `getCaseContext()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `caseId`\n- ‚úÖ `processAIChat()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `caseId`\n\n### **Array –æ–±—Ä–∞–±–æ—Ç–∫–∞:**\n- ‚úÖ `extractDatesFromText()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `text`\n- ‚úÖ `extractNumbersFromText()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `text`\n- ‚úÖ `extractNamesFromText()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `text`\n- ‚úÖ `extractAmountsFromText()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `text`\n- ‚úÖ PostgreSQL –∑–∞–ø—Ä–æ—Å—ã - –ø–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—Å–∏–≤–æ–≤ –Ω–∞–ø—Ä—è–º—É—é\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nStarting OCR processing for photo [ID] with Gemini 1.5 Flash\nOCR completed for photo [ID]\n```\n\n### **–ë–µ–∑ –æ—à–∏–±–æ–∫:**\n- ‚ùå `invalid input syntax for type uuid: \"undefined\"`\n- ‚ùå `malformed array literal: \"[]\"`\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:\n- ‚úÖ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫\n- ‚úÖ **–ò–ò-—á–∞—Ç** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ\n- ‚úÖ **–ö–Ω–æ–ø–∫–∞ \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞\n- ‚úÖ **PostgreSQL** –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –º–∞—Å—Å–∏–≤—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n\n## ‚è≥ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**\n\n1. **–î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)\n2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OCR** - –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ò–ò-—á–∞—Ç** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞\n\n**–§–∏–Ω–∞–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è.** üöÄ\n","size_bytes":2980},"GEMINI_MODEL_FIX.md":{"content":"# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ú–û–î–ï–õ–ò GEMINI\n\n## ‚ùå **–ü–†–û–ë–õ–ï–ú–´:**\n\n1. **UUID –æ—à–∏–±–∫–∞:** `invalid input syntax for type uuid: \"undefined\"`\n2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å:** `models/gemini-2.5-flash-lite is not found`\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**\n\n### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å Gemini:**\n- ‚ùå `gemini-2.5-flash-lite` (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)\n- ‚úÖ `gemini-1.5-flash` (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å)\n\n### **2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ UUID:**\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ `caseId` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º\n- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è\n- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–µ–∑ –∫—ç—à–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö\n\n### **3. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞\n- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π\n- Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö\n\n## üöÄ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:\n- ‚úÖ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é\n- ‚úÖ **–ò–ò-—á–∞—Ç** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ UUID –æ—à–∏–±–æ–∫\n- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ\n- ‚úÖ **–û—à–∏–±–∫–∏** –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n\n## üìã **–î–û–°–¢–£–ü–ù–´–ï –ú–û–î–ï–õ–ò GEMINI:**\n\n### **–î–ª—è OCR (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è):**\n- `gemini-1.5-flash` ‚úÖ\n- `gemini-1.5-pro` ‚úÖ\n\n### **–î–ª—è —á–∞—Ç–∞ (—Ç–µ–∫—Å—Ç):**\n- `gemini-1.5-flash` ‚úÖ\n- `gemini-1.5-pro` ‚úÖ\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–õ–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nStarting OCR processing for photo [ID] with Gemini 2.5 Flash\nOCR completed successfully\n```\n\n### **–ë–µ–∑ –æ—à–∏–±–æ–∫:**\n- ‚ùå `models/gemini-2.5-flash-lite is not found`\n- ‚ùå `invalid input syntax for type uuid: \"undefined\"`\n\n## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**\n\n1. **–î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)\n2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OCR** - –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ò–ò-—á–∞—Ç** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞\n\n**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è.** üöÄ\n","size_bytes":2286},"GEMINI_PACKAGE_FIX.md":{"content":"# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–ê–ö–ï–¢–ê GEMINI\n\n## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê:**\n```\nnpm error notarget No matching version found for @google/genai@^0.2.1\n```\n\n## ‚úÖ **–†–ï–®–ï–ù–ò–ï:**\n\n### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç:**\n- ‚ùå `@google/genai` (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)\n- ‚úÖ `@google/generative-ai` (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç)\n\n### **2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è:**\n- ‚ùå `^0.2.1` (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)\n- ‚úÖ `^0.21.0` (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)\n\n### **3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:**\n- ‚ùå `import { GoogleGenAI } from '@google/genai'`\n- ‚úÖ `import { GoogleGenerativeAI } from '@google/generative-ai'`\n\n### **4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**\n- ‚ùå `new GoogleGenAI({ apiKey })`\n- ‚úÖ `new GoogleGenerativeAI(apiKey)`\n\n## üöÄ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### **package.json:**\n```json\n{\n  \"dependencies\": {\n    \"@google/generative-ai\": \"^0.21.0\"\n  }\n}\n```\n\n### **API –∫–æ–¥:**\n```javascript\n// –ò–º–ø–æ—Ä—Ç\nimport { GoogleGenerativeAI } from '@google/generative-ai'\n\n// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY)\n\n// OCR\nconst model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" })\nconst result = await model.generateContent([image, prompt])\n\n// AI Chat\nconst model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" })\nconst result = await model.generateContent(prompt)\n```\n\n## üîç **–ü–†–û–í–ï–†–ö–ê:**\n\n### **–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:**\n```\nStarting OCR processing for photo [ID] with Gemini 1.5 Flash\nOCR completed successfully\n```\n\n### **–ë–µ–∑ –æ—à–∏–±–æ–∫:**\n- ‚ùå `No matching version found for @google/genai`\n- ‚ùå `models/gemini-2.5-flash-lite is not found`\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:\n- ‚úÖ **OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å Gemini 1.5 Flash\n- ‚úÖ **–ò–ò-—á–∞—Ç** –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é\n- ‚úÖ **–ö–Ω–æ–ø–∫–∞ \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞\n- ‚úÖ **–°–±–æ—Ä–∫–∞** –±—É–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ–π\n\n## ‚è≥ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**\n\n1. **–î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)\n2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OCR** - –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ò–ò-—á–∞—Ç** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\n4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É \"–î–æ–ø. —Ñ–∞–π–ª—ã\"** - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞\n\n**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã! –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è.** üöÄ\n","size_bytes":2525},"MODAL_FIXES.md":{"content":"# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û:**\n\n### **1. UUID –æ—à–∏–±–∫–∞:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** `caseId` –º–æ–∂–µ—Ç –±—ã—Ç—å `undefined` –≤ `getCaseContext`\n- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏\n\n```javascript\nif (!caseId) {\n  return handleCORS(NextResponse.json({ error: 'Case ID is required' }, { status: 400 }))\n}\n```\n\n### **2. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:**\n- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù—É–∂–Ω–æ –æ—Ç–¥–∞–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ç–µ–∫—Å—Ç–∞\n- **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ä–∞–∑–º–µ—Ä—ã\n\n#### **–ù–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã:**\n- `max-w-6xl` –≤–º–µ—Å—Ç–æ `max-w-4xl` (—à–∏—Ä–µ)\n- `max-h-[95vh]` –≤–º–µ—Å—Ç–æ `max-h-[90vh]` (–≤—ã—à–µ)\n- `overflow-hidden` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏\n\n#### **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**\n```jsx\n<DialogContent className=\"max-w-6xl max-h-[95vh] p-0 overflow-hidden\">\n  <div className=\"flex flex-col h-full\">\n    {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ - sticky */}\n    <div className=\"sticky top-0 z-10\">\n      {/* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}\n    </div>\n    \n    {/* –ö–æ–Ω—Ç–µ–Ω—Ç - scrollable */}\n    <div className=\"flex-1 overflow-y-auto\">\n      {/* –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç */}\n    </div>\n  </div>\n</DialogContent>\n```\n\n### **3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:**\n- **–ë—ã–ª–æ:** –ö–Ω–æ–ø–∫–∏ –ø–æ–≤–µ—Ä—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n- **–°—Ç–∞–ª–æ:** –ö–Ω–æ–ø–∫–∏ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º\n\n```jsx\n<div className=\"flex justify-between mt-4\">\n  <Button onClick={prevPhoto}>‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</Button>\n  <Button onClick={nextPhoto}>–°–ª–µ–¥—É—é—â–∏–π ‚Üí</Button>\n</div>\n```\n\n### **4. –£–ª—É—á—à–µ–Ω–Ω—ã–π OCR —Ç–µ–∫—Å—Ç:**\n- **–ë—ã–ª–æ:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ `max-h-60`\n- **–°—Ç–∞–ª–æ:** –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π\n- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** –õ—É—á—à–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ –∏ –æ—Ç—Å—Ç—É–ø—ã\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n\n### **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:**\n- ‚úÖ **–®–∏—Ä–µ** - `max-w-6xl` (–±–æ–ª—å—à–µ –º–µ—Å—Ç–∞)\n- ‚úÖ **–í—ã—à–µ** - `max-h-[95vh]` (–ø–æ—á—Ç–∏ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω)\n- ‚úÖ **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞** - —Ç–æ–ª—å–∫–æ –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞\n- ‚úÖ **Sticky –∑–∞–≥–æ–ª–æ–≤–æ–∫** - –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω\n\n### **–ù–∞–≤–∏–≥–∞—Ü–∏—è:**\n- ‚úÖ **–ö–Ω–æ–ø–∫–∏ –ø–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º** - –Ω–µ –º–µ—à–∞—é—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä—É\n- ‚úÖ **–ü–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è** - \"–ü—Ä–µ–¥—ã–¥—É—â–∏–π\" / \"–°–ª–µ–¥—É—é—â–∏–π\"\n- ‚úÖ **–•–æ—Ä–æ—à–µ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ** - –ø–æ –∫—Ä–∞—è–º\n\n### **OCR —Ç–µ–∫—Å—Ç:**\n- ‚úÖ **–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤—ã—Å–æ—Ç—ã** - –≤–µ—Å—å —Ç–µ–∫—Å—Ç –≤–∏–¥–µ–Ω\n- ‚úÖ **–•–æ—Ä–æ—à–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞** - —á–∏—Ç–∞–µ–º–æ\n- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ\n\n## üöÄ **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**\n\n### **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞:**\n- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ\n- –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–Ω—Ç\n- –ù–µ –Ω—É–∂–Ω–æ –æ—Ç–¥–∞–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É\n\n### **–ù–∞–≤–∏–≥–∞—Ü–∏—è:**\n- –ö–Ω–æ–ø–∫–∏ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã\n- –ù–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç\n- –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã\n\n**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ! –¢–µ–ø–µ—Ä—å —É–¥–æ–±–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã.** üé®\n","size_bytes":3434},"OPTIMIZED_SYSTEM.md":{"content":"# üöÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Å–µ—Å—Å–∏—è–º–∏ –ò–ò-—á–∞—Ç–∞\n\n## üß† **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–∞–º—è—Ç–∏ –ò–ò:**\n\n### **–ü—Ä–æ–±–ª–µ–º–∞:**\n- –ü—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ—Ä–æ–≥–æ\n- –ò–ò \"–∑–∞–±—ã–≤–∞–µ—Ç\" –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è\n- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ OCR –¥–∞–Ω–Ω—ã—Ö —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å\n\n### **–†–µ—à–µ–Ω–∏–µ:**\n1. **–°–µ—Å—Å–∏–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** - –∫–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è —á–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è\n2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–ª–∞ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1 —á–∞—Å\n3. **–£–º–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π\n4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\n\n## üóÑÔ∏è **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**\n\n### **–¢–∞–±–ª–∏—Ü—ã:**\n- `cases` - –¥–µ–ª–∞\n- `case_photos` - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\n- `photo_ocr_results` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã OCR\n- `photo_comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ\n- `ai_chat_sessions` - **—Å–µ—Å—Å–∏–∏ –ò–ò-—á–∞—Ç–∞**\n- `ai_chat_messages` - **—Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–µ—Å—Å–∏—è—Ö**\n- `case_context_cache` - **–∫—ç—à –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–µ–ª–∞**\n\n### **–§—É–Ω–∫—Ü–∏–∏ PostgreSQL:**\n- `get_or_create_active_session()` - –ø–æ–ª—É—á–∏—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é\n- `get_case_context_summary()` - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n## üéØ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**\n\n### **1. –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ:**\n- –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è\n- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–ª–∞\n- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Gemini —Å –ø–æ–ª–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º\n- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1 —á–∞—Å\n\n### **2. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**\n- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å–µ—Å—Å–∏—è\n- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π\n- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç + –∏—Å—Ç–æ—Ä–∏—è\n- **–≠–∫–æ–Ω–æ–º–∏—è: ~70% —Ç–æ–∫–µ–Ω–æ–≤**\n\n### **3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n- –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–µ–ª–∞ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1 —á–∞—Å\n- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ –∫—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è\n- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–µ–ª–∞ –∫—ç—à —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è\n\n## üìä **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**\n\n### **–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: ~2000-5000 —Ç–æ–∫–µ–Ω–æ–≤\n- 10 —Å–æ–æ–±—â–µ–Ω–∏–π: ~20,000-50,000 —Ç–æ–∫–µ–Ω–æ–≤\n- –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.40-1.00 –∑–∞ 10 —Å–æ–æ–±—â–µ–Ω–∏–π\n\n### **–° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**\n- –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: ~2000-5000 —Ç–æ–∫–µ–Ω–æ–≤\n- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: ~500-1000 —Ç–æ–∫–µ–Ω–æ–≤\n- 10 —Å–æ–æ–±—â–µ–Ω–∏–π: ~6,500-14,000 —Ç–æ–∫–µ–Ω–æ–≤\n- **–≠–∫–æ–Ω–æ–º–∏—è: 65-70%**\n\n## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n### 1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:**\n```sql\n-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ optimized_schema.sql\n```\n\n### 2. **–û–±–Ω–æ–≤–∏—Ç–µ frontend:**\n```javascript\n// –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ /api/legal/ –Ω–∞ /api/optimized/\nconst response = await fetch('/api/optimized/cases')\n```\n\n### 3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**\n```\nPOSTGRES_URL=postgresql://...\nGEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á\n```\n\n## üé® **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**\n\n### **–°–µ—Å—Å–∏–∏ —á–∞—Ç–∞:**\n- –ö–∞–∂–¥–æ–µ –¥–µ–ª–æ –∏–º–µ–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é\n- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è\n- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏\n\n### **–£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:**\n- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 1 —á–∞—Å\n- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö\n- –ö—Ä–∞—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞\n\n### **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã:**\n- –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ\n- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Å–æ–æ–±—â–µ–Ω–∏–π\n- –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ\n\n## üß™ **API Endpoints:**\n\n### **–û—Å–Ω–æ–≤–Ω—ã–µ:**\n- `GET /api/optimized/cases` - —Å–ø–∏—Å–æ–∫ –¥–µ–ª\n- `POST /api/optimized/cases` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª–∞\n- `GET /api/optimized/cases/{id}` - –¥–µ—Ç–∞–ª–∏ –¥–µ–ª–∞\n\n### **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:**\n- `POST /api/optimized/photos/upload` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ\n- `GET /api/optimized/photos/{id}/ocr-status` - —Å—Ç–∞—Ç—É—Å OCR\n- `POST /api/optimized/photos/{id}/comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\n\n### **–ò–ò-—á–∞—Ç:**\n- `POST /api/optimized/cases/{id}/chat` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ\n- `GET /api/optimized/cases/{id}/chat` - –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞\n- `GET /api/optimized/cases/{id}/sessions` - —Å–µ—Å—Å–∏–∏ —á–∞—Ç–∞\n\n## üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**\n\n### **–≠–∫–æ–Ω–æ–º–∏—è:**\n- ‚úÖ 65-70% —Å–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ API\n- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –ò–ò\n- ‚úÖ –ü–∞–º—è—Ç—å –æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö\n- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**\n- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏\n- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\n- ‚úÖ OCR —á–µ—Ä–µ–∑ Gemini 2.5 Flash\n- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º\n- ‚úÖ –ò–ò-—á–∞—Ç —Å –ø–∞–º—è—Ç—å—é\n- ‚úÖ –°–µ—Å—Å–∏–∏ —á–∞—Ç–∞\n- ‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n\n## üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**\n\n–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ò–ò-—á–∞—Ç–æ–º –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!\n","size_bytes":5724},"POSTGRES_SETUP.md":{"content":"# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL —Å Supabase\n\n## ‚úÖ **–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:**\n- ‚úÖ –°–æ–∑–¥–∞–Ω API route `/api/postgres/`\n- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `pg`\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `render.yaml`\n\n## üîß **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n\n### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase:\n1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à Supabase –ø—Ä–æ–µ–∫—Ç\n2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**\n3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase_migration.sql`\n\n### 2. –ü–æ–ª—É—á–∏—Ç–µ –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:\n1. –í Supabase Dashboard ‚Üí **Settings** ‚Üí **Database**\n2. –ù–∞–∂–º–∏—Ç–µ **\"Reset database password\"**\n3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å\n4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n\n### 3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:\n–í Render Dashboard ‚Üí Environment Variables:\n```\nPOSTGRES_URL=postgresql://postgres.fulczneorzmbeajdnrtt:–í–ê–®_–ü–ê–†–û–õ–¨@aws-1-eu-central-1.pooler.supabase.com:5432/postgres\n```\n\n### 4. –û–±–Ω–æ–≤–∏—Ç–µ frontend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PostgreSQL API:\n–í —Ñ–∞–π–ª–µ `app/page.js` –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ `/api/` –Ω–∞ `/api/postgres/`:\n\n```javascript\n// –ë—ã–ª–æ:\nconst response = await fetch('/api/cases')\n\n// –°—Ç–∞–ª–æ:\nconst response = await fetch('/api/postgres/cases')\n```\n\n### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Render\n\n## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PostgreSQL:**\n- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n- ‚úÖ –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ API –∫–ª—é—á–µ–π\n- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏\n- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤\n- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ ACID\n\n## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- `https://your-app.onrender.com/api/postgres/` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å \"Legal Practice API Active (PostgreSQL)\"\n- –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å\n- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å\n\n## üîÑ **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard\n2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ Supabase\n3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/postgres/` –ø—É—Ç–∏\n\n## üìã **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**\n1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é** –≤ Supabase\n2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n3. **–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –≤ Render\n4. **–û–±–Ω–æ–≤–∏—Ç–µ frontend** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PostgreSQL API\n5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n","size_bytes":2750},"QUICK_FIX.md":{"content":"# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Supabase\n\n## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**\n```\nError: Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL\n```\n\n## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**\n\n### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**\n\n1. **–ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ –∏–∑ Supabase:**\n   - –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à Supabase –ø—Ä–æ–µ–∫—Ç\n   - Settings ‚Üí API\n   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Project URL –∏ anon key\n\n2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:**\n   ```\n   SUPABASE_URL=https://fulczneorzmbeajdnrtt.supabase.co\n   SUPABASE_ANON_KEY=–≤–∞—à_anon_–∫–ª—é—á_–∑–¥–µ—Å—å\n   ```\n\n3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Render**\n\n### **–í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å Supabase**\n\n1. **Supabase API —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω** (–ø–∞–ø–∫–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞)\n2. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è** –±–µ–∑ –æ—à–∏–±–æ–∫\n3. **API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** –ø–æ –∞–¥—Ä–µ—Å—É `/api/test`\n\n### **–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB (–±—ã—Å—Ç—Ä–æ)**\n\n1. **–°–æ–∑–¥–∞–π—Ç–µ MongoDB Atlas:**\n   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/atlas)\n   - –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä\n   - –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n\n2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:**\n   ```\n   MONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/\n   DB_NAME=legal_practice\n   ```\n\n3. **–£–¥–∞–ª–∏—Ç–µ Supabase –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –∏–∑ Render\n\n## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n\n–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- `https://your-app.onrender.com/api/test` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON\n- `https://your-app.onrender.com/api/` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å \"Legal Practice API Active\"\n\n## üìã **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**\n\n1. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç** (Supabase, MongoDB, –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å)\n2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –≤ Render Dashboard\n3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ** —Å–µ—Ä–≤–∏—Å\n4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** —Ä–∞–±–æ—Ç—É API\n\n## üîÑ **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n\n1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Render Dashboard\n2. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç** URL (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å https://)\n4. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ –∫–ª—é—á–∏ Supabase –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã\n","size_bytes":2498},"QUICK_START.md":{"content":"# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render\n\n## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (5 –º–∏–Ω—É—Ç)\n\n### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n\n**–í–∞—Ä–∏–∞–Ω—Ç A: MongoDB Atlas (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**\n1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/atlas)\n2. –°–æ–∑–¥–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä\n3. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n4. –î–æ–±–∞–≤—å—Ç–µ IP `0.0.0.0/0` –≤ Network Access\n\n**–í–∞—Ä–∏–∞–Ω—Ç B: Supabase (PostgreSQL)**\n1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Supabase](https://supabase.com)\n2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç\n3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ —Ñ–∞–π–ª–∞ `supabase_migration.sql`\n4. –ü–æ–ª—É—á–∏—Ç–µ URL –∏ –∫–ª—é—á–∏\n\n### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Vision API\n1. [Google Cloud Console](https://console.cloud.google.com/)\n2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç\n3. –í–∫–ª—é—á–∏—Ç–µ Vision API\n4. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á\n\n### 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render\n1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [Render](https://render.com)\n2. –ù–∞–∂–º–∏—Ç–µ \"New +\" ‚Üí \"Web Service\"\n3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π\n4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:\n   - **Build Command**: `npm install && npm run build`\n   - **Start Command**: `npm start`\n   - **Environment**: `Node`\n\n### 4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Render\n```env\nNODE_ENV=production\nPORT=3000\nMONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/\nDB_NAME=legal_practice\nGOOGLE_VISION_API_KEY=your_api_key_here\nCORS_ORIGINS=https://your-app-name.onrender.com\n```\n\n### 5. –ì–æ—Ç–æ–≤–æ! üéâ\n–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:\n`https://your-app-name.onrender.com`\n\n## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö\n\n### MongoDB Collections:\n- **cases** - –¥–µ–ª–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤\n- **case_documents** - –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å OCR\n\n### PostgreSQL Tables (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase):\n- **cases** - –¥–µ–ª–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤  \n- **case_documents** - –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å OCR\n\n## üîß –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫\n\n```bash\n# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ\ngit clone <your-repo>\ncd advokatem-main\n\n# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π\nnpm install\n\n# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞\ncp env.example .env\n# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏\n\n# –ó–∞–ø—É—Å–∫\nnpm run dev\n```\n\n## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ\n\n```bash\n# –¢–µ—Å—Ç API\npython backend_test.py\n```\n\n## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã\n\n- `render.yaml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Render\n- `database_schema.sql` - —Å—Ö–µ–º–∞ PostgreSQL\n- `supabase_migration.sql` - –º–∏–≥—Ä–∞—Ü–∏—è Supabase\n- `env.example` - –ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è\n- `DEPLOYMENT_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ\n- `Dockerfile.postgres` - Docker –¥–ª—è PostgreSQL\n\n## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Render Dashboard\n2. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã\n3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö\n4. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ Google Vision API —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?\n\n–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:\n- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n- –î–æ–±–∞–≤—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç\n- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ\n- –î–æ–±–∞–≤—å—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥\n","size_bytes":3454},"SUPABASE_SETUP.md":{"content":"# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Supabase PostgreSQL\n\n## ‚úÖ **–ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:**\n- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `@supabase/supabase-js`\n- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π API route `/api/supabase/`\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `render.yaml`\n\n## üîß **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**\n\n### 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase:\n1. –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à Supabase –ø—Ä–æ–µ–∫—Ç\n2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**\n3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase_migration.sql`\n\n### 2. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏ Supabase:\n1. –í Supabase Dashboard ‚Üí **Settings** ‚Üí **API**\n2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:\n   - **Project URL** (SUPABASE_URL)\n   - **anon public** key (SUPABASE_ANON_KEY)\n\n### 3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Render:\n–í Render Dashboard ‚Üí Environment Variables:\n```\nSUPABASE_URL=https://your-project.supabase.co\nSUPABASE_ANON_KEY=your_anon_key_here\n```\n\n### 4. –û–±–Ω–æ–≤–∏—Ç–µ frontend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ API:\n–í —Ñ–∞–π–ª–µ `app/page.js` –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ `/api/` –Ω–∞ `/api/supabase/`:\n\n```javascript\n// –ë—ã–ª–æ:\nconst response = await fetch('/api/cases')\n\n// –°—Ç–∞–ª–æ:\nconst response = await fetch('/api/supabase/cases')\n```\n\n### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Render\n\n## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Supabase:**\n- ‚úÖ –†–µ–∞–ª—å–Ω–∞—è PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è\n- ‚úÖ Real-time –ø–æ–¥–ø–∏—Å–∫–∏\n- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ API\n- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π dashboard\n- ‚úÖ Row Level Security\n\n## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:\n- `https://your-app.onrender.com/api/supabase/` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å \"Legal Practice API Active (Supabase)\"\n- –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å\n- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å\n\n## üîÑ **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**\n1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Render Dashboard\n2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ Supabase\n3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π Supabase\n4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/supabase/` –ø—É—Ç–∏\n","size_bytes":2334},"URGENT_FIXES.md":{"content":"# üö® –°–†–û–ß–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –û–®–ò–ë–û–ö\n\n## ‚ùå **–ü–†–û–ë–õ–ï–ú–´:**\n1. `ON CONFLICT` –æ—à–∏–±–∫–∞ - –Ω–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤\n2. `invalid input syntax for type uuid: \"undefined\"` - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è undefined –≤–º–µ—Å—Ç–æ UUID\n\n## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´:**\n\n### **1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**\n- –î–æ–±–∞–≤–ª–µ–Ω `UNIQUE(file_name)` –≤ —Ç–∞–±–ª–∏—Ü—É `case_photos`\n- –î–æ–±–∞–≤–ª–µ–Ω `UNIQUE(case_id)` –≤ —Ç–∞–±–ª–∏—Ü—É `case_context_cache`\n\n### **2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API –∫–æ–¥:**\n- –£–±—Ä–∞–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π `ON CONFLICT` –≤ OCR –æ–±—Ä–∞–±–æ—Ç–∫–µ\n- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UUID –¥–ª—è –∫—ç—à–∞\n- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n\n## üîß **–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨:**\n\n### **–®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**\n–í Supabase SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:\n\n```sql\n-- –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é —Å—Ö–µ–º—É\nDROP SCHEMA public CASCADE;\nCREATE SCHEMA public;\nGRANT ALL ON SCHEMA public TO postgres;\nGRANT ALL ON SCHEMA public TO public;\n\n-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é —Å—Ö–µ–º—É –∏–∑ —Ñ–∞–π–ª–∞ optimized_schema.sql\n```\n\n### **–®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**\n–í Render –Ω–∞–∂–º–∏—Ç–µ \"Manual Deploy\" –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.\n\n## üìã **–ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**\n\n### **–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**\n```sql\n-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã\nSELECT \n    table_name, \n    column_name, \n    constraint_name\nFROM information_schema.key_column_usage \nWHERE constraint_name LIKE '%unique%' \nAND table_schema = 'public';\n```\n\n–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:\n- `case_photos.file_name` - UNIQUE\n- `case_context_cache.case_id` - UNIQUE\n\n### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**\n1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –¥–µ–ª–æ\n2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é\n3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ OCR —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ò–ò-—á–∞—Ç\n\n## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**\n- ‚úÖ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫\n- ‚úÖ UUID –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\n- ‚úÖ ON CONFLICT —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ\n- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç\n\n**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üöÄ\n","size_bytes":2484},"backend_test.py":{"content":"#!/usr/bin/env python3\n\"\"\"\nLegal Practice Management API Backend Tests\nTests all backend API endpoints according to priority requirements.\n\"\"\"\n\nimport requests\nimport json\nimport time\nimport os\nimport tempfile\nfrom PIL import Image\nimport io\n\n# Get base URL from environment\nBASE_URL = \"https://legalocr.preview.emergentagent.com/api\"\n\nclass LegalPracticeAPITester:\n    def __init__(self):\n        self.base_url = BASE_URL\n        self.session = requests.Session()\n        self.created_case_id = None\n        self.created_document_id = None\n        \n    def log_test(self, test_name, success, message=\"\", response_data=None):\n        \"\"\"Log test results\"\"\"\n        status = \"‚úÖ PASS\" if success else \"‚ùå FAIL\"\n        print(f\"{status} {test_name}\")\n        if message:\n            print(f\"   {message}\")\n        if response_data and not success:\n            print(f\"   Response: {response_data}\")\n        print()\n        \n    def test_root_endpoint(self):\n        \"\"\"PRIORITY 1: Test GET /api/ endpoint\"\"\"\n        try:\n            response = self.session.get(f\"{self.base_url}/\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                if data.get(\"message\") == \"Legal Practice API Active\":\n                    self.log_test(\"Root Endpoint\", True, \"API is active and responding correctly\")\n                    return True\n                else:\n                    self.log_test(\"Root Endpoint\", False, f\"Unexpected message: {data.get('message')}\", data)\n                    return False\n            else:\n                self.log_test(\"Root Endpoint\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Root Endpoint\", False, f\"Connection error: {str(e)}\")\n            return False\n    \n    def test_get_cases_empty(self):\n        \"\"\"PRIORITY 1: Test GET /api/cases endpoint (should return empty array initially)\"\"\"\n        try:\n            response = self.session.get(f\"{self.base_url}/cases\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                if isinstance(data, list):\n                    self.log_test(\"Get Cases (Empty)\", True, f\"Returned {len(data)} cases\")\n                    return True\n                else:\n                    self.log_test(\"Get Cases (Empty)\", False, \"Response is not an array\", data)\n                    return False\n            else:\n                self.log_test(\"Get Cases (Empty)\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Get Cases (Empty)\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_create_case(self):\n        \"\"\"PRIORITY 1: Test POST /api/cases endpoint with valid case data\"\"\"\n        case_data = {\n            \"title\": \"–¢–µ—Å—Ç–æ–≤–æ–µ –¥–µ–ª–æ –ø–æ —Ä–∞–∑–≤–æ–¥—É\",\n            \"client_name\": \"–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á\", \n            \"description\": \"–†–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –±—Ä–∞–∫–∞ —Å —Ä–∞–∑–¥–µ–ª–æ–º –∏–º—É—â–µ—Å—Ç–≤–∞\",\n            \"case_type\": \"–°–µ–º–µ–π–Ω–æ–µ –ø—Ä–∞–≤–æ\",\n            \"priority\": \"medium\"\n        }\n        \n        try:\n            response = self.session.post(\n                f\"{self.base_url}/cases\",\n                headers={\"Content-Type\": \"application/json\"},\n                json=case_data\n            )\n            \n            if response.status_code == 200:\n                data = response.json()\n                required_fields = [\"id\", \"case_number\", \"title\", \"client_name\", \"status\", \"created_at\"]\n                \n                if all(field in data for field in required_fields):\n                    self.created_case_id = data[\"id\"]\n                    self.log_test(\"Create Case\", True, f\"Case created with ID: {self.created_case_id}\")\n                    return True\n                else:\n                    missing = [f for f in required_fields if f not in data]\n                    self.log_test(\"Create Case\", False, f\"Missing fields: {missing}\", data)\n                    return False\n            else:\n                self.log_test(\"Create Case\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Create Case\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_get_cases_with_data(self):\n        \"\"\"PRIORITY 1: Test that the created case appears in GET /api/cases\"\"\"\n        try:\n            response = self.session.get(f\"{self.base_url}/cases\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                if isinstance(data, list) and len(data) > 0:\n                    # Check if our created case is in the list\n                    case_found = any(case.get(\"id\") == self.created_case_id for case in data)\n                    if case_found:\n                        self.log_test(\"Get Cases (With Data)\", True, f\"Found {len(data)} cases including created case\")\n                        return True\n                    else:\n                        self.log_test(\"Get Cases (With Data)\", False, \"Created case not found in list\")\n                        return False\n                else:\n                    self.log_test(\"Get Cases (With Data)\", False, \"No cases returned after creation\")\n                    return False\n            else:\n                self.log_test(\"Get Cases (With Data)\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Get Cases (With Data)\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_get_case_by_id(self):\n        \"\"\"Test GET /api/cases/{id} endpoint\"\"\"\n        if not self.created_case_id:\n            self.log_test(\"Get Case By ID\", False, \"No case ID available for testing\")\n            return False\n            \n        try:\n            response = self.session.get(f\"{self.base_url}/cases/{self.created_case_id}\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                if data.get(\"id\") == self.created_case_id:\n                    self.log_test(\"Get Case By ID\", True, f\"Retrieved case: {data.get('title')}\")\n                    return True\n                else:\n                    self.log_test(\"Get Case By ID\", False, \"Case ID mismatch\", data)\n                    return False\n            else:\n                self.log_test(\"Get Case By ID\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Get Case By ID\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def create_test_image(self):\n        \"\"\"Create a test image file for document upload testing\"\"\"\n        try:\n            # Create a simple test image\n            img = Image.new('RGB', (100, 100), color='white')\n            \n            # Add some text-like content\n            from PIL import ImageDraw, ImageFont\n            draw = ImageDraw.Draw(img)\n            \n            # Use default font\n            try:\n                font = ImageFont.load_default()\n            except:\n                font = None\n                \n            draw.text((10, 10), \"Test Document\", fill='black', font=font)\n            draw.text((10, 30), \"Legal Case #123\", fill='black', font=font)\n            draw.text((10, 50), \"Date: 2024-01-01\", fill='black', font=font)\n            \n            # Save to bytes\n            img_bytes = io.BytesIO()\n            img.save(img_bytes, format='PNG')\n            img_bytes.seek(0)\n            \n            return img_bytes.getvalue()\n            \n        except Exception as e:\n            print(f\"Error creating test image: {e}\")\n            return None\n    \n    def test_document_upload(self):\n        \"\"\"PRIORITY 2: Test POST /api/documents/upload endpoint\"\"\"\n        if not self.created_case_id:\n            self.log_test(\"Document Upload\", False, \"No case ID available for testing\")\n            return False\n            \n        try:\n            # Create test image\n            image_data = self.create_test_image()\n            if not image_data:\n                self.log_test(\"Document Upload\", False, \"Failed to create test image\")\n                return False\n            \n            # Prepare multipart form data\n            files = {\n                'file': ('test_document.png', image_data, 'image/png')\n            }\n            data = {\n                'caseId': self.created_case_id\n            }\n            \n            response = self.session.post(\n                f\"{self.base_url}/documents/upload\",\n                files=files,\n                data=data\n            )\n            \n            if response.status_code == 200:\n                result = response.json()\n                if result.get(\"success\") and result.get(\"documentId\"):\n                    self.created_document_id = result[\"documentId\"]\n                    self.log_test(\"Document Upload\", True, f\"Document uploaded with ID: {self.created_document_id}\")\n                    return True\n                else:\n                    self.log_test(\"Document Upload\", False, \"Upload response missing required fields\", result)\n                    return False\n            else:\n                self.log_test(\"Document Upload\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Document Upload\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_ocr_status(self):\n        \"\"\"PRIORITY 2: Test GET /api/documents/{id}/ocr-status endpoint\"\"\"\n        if not self.created_document_id:\n            self.log_test(\"OCR Status Check\", False, \"No document ID available for testing\")\n            return False\n            \n        try:\n            response = self.session.get(f\"{self.base_url}/documents/{self.created_document_id}/ocr-status\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                required_fields = [\"status\", \"progress\"]\n                \n                if all(field in data for field in required_fields):\n                    status = data[\"status\"]\n                    progress = data[\"progress\"]\n                    \n                    # Valid statuses: pending, processing, completed, failed\n                    valid_statuses = [\"pending\", \"processing\", \"completed\", \"failed\"]\n                    if status in valid_statuses:\n                        self.log_test(\"OCR Status Check\", True, f\"Status: {status}, Progress: {progress}%\")\n                        return True\n                    else:\n                        self.log_test(\"OCR Status Check\", False, f\"Invalid status: {status}\")\n                        return False\n                else:\n                    missing = [f for f in required_fields if f not in data]\n                    self.log_test(\"OCR Status Check\", False, f\"Missing fields: {missing}\", data)\n                    return False\n            else:\n                self.log_test(\"OCR Status Check\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"OCR Status Check\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_case_documents(self):\n        \"\"\"PRIORITY 2: Test GET /api/cases/{caseId}/documents endpoint\"\"\"\n        if not self.created_case_id:\n            self.log_test(\"Case Documents\", False, \"No case ID available for testing\")\n            return False\n            \n        try:\n            response = self.session.get(f\"{self.base_url}/cases/{self.created_case_id}/documents\")\n            \n            if response.status_code == 200:\n                data = response.json()\n                if isinstance(data, list):\n                    self.log_test(\"Case Documents\", True, f\"Retrieved {len(data)} documents for case\")\n                    return True\n                else:\n                    self.log_test(\"Case Documents\", False, \"Response is not an array\", data)\n                    return False\n            else:\n                self.log_test(\"Case Documents\", False, f\"HTTP {response.status_code}\", response.text)\n                return False\n                \n        except Exception as e:\n            self.log_test(\"Case Documents\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_cors_headers(self):\n        \"\"\"Test CORS headers are present\"\"\"\n        try:\n            response = self.session.options(f\"{self.base_url}/cases\")\n            \n            cors_headers = [\n                'Access-Control-Allow-Origin',\n                'Access-Control-Allow-Methods',\n                'Access-Control-Allow-Headers'\n            ]\n            \n            present_headers = [h for h in cors_headers if h in response.headers]\n            \n            if len(present_headers) >= 2:  # At least 2 CORS headers should be present\n                self.log_test(\"CORS Headers\", True, f\"Found headers: {present_headers}\")\n                return True\n            else:\n                self.log_test(\"CORS Headers\", False, f\"Missing CORS headers. Found: {present_headers}\")\n                return False\n                \n        except Exception as e:\n            self.log_test(\"CORS Headers\", False, f\"Error: {str(e)}\")\n            return False\n    \n    def test_error_handling(self):\n        \"\"\"Test proper error handling\"\"\"\n        tests_passed = 0\n        total_tests = 3\n        \n        # Test 1: Invalid case creation (missing required fields)\n        try:\n            response = self.session.post(\n                f\"{self.base_url}/cases\",\n                headers={\"Content-Type\": \"application/json\"},\n                json={\"description\": \"Missing title and client_name\"}\n            )\n            \n            if response.status_code == 400:\n                self.log_test(\"Error Handling - Invalid Case\", True, \"Properly rejected invalid case data\")\n                tests_passed += 1\n            else:\n                self.log_test(\"Error Handling - Invalid Case\", False, f\"Expected 400, got {response.status_code}\")\n        except Exception as e:\n            self.log_test(\"Error Handling - Invalid Case\", False, f\"Error: {str(e)}\")\n        \n        # Test 2: Non-existent case\n        try:\n            response = self.session.get(f\"{self.base_url}/cases/non-existent-id\")\n            \n            if response.status_code == 404:\n                self.log_test(\"Error Handling - Non-existent Case\", True, \"Properly returned 404 for non-existent case\")\n                tests_passed += 1\n            else:\n                self.log_test(\"Error Handling - Non-existent Case\", False, f\"Expected 404, got {response.status_code}\")\n        except Exception as e:\n            self.log_test(\"Error Handling - Non-existent Case\", False, f\"Error: {str(e)}\")\n        \n        # Test 3: Non-existent document OCR status\n        try:\n            response = self.session.get(f\"{self.base_url}/documents/non-existent-id/ocr-status\")\n            \n            if response.status_code == 404:\n                self.log_test(\"Error Handling - Non-existent Document\", True, \"Properly returned 404 for non-existent document\")\n                tests_passed += 1\n            else:\n                self.log_test(\"Error Handling - Non-existent Document\", False, f\"Expected 404, got {response.status_code}\")\n        except Exception as e:\n            self.log_test(\"Error Handling - Non-existent Document\", False, f\"Error: {str(e)}\")\n        \n        return tests_passed == total_tests\n    \n    def run_all_tests(self):\n        \"\"\"Run all tests in priority order\"\"\"\n        print(\"=\" * 60)\n        print(\"LEGAL PRACTICE MANAGEMENT API - BACKEND TESTS\")\n        print(\"=\" * 60)\n        print(f\"Testing API at: {self.base_url}\")\n        print()\n        \n        results = {}\n        \n        # PRIORITY 1 - Basic API Testing\n        print(\"PRIORITY 1 - BASIC API TESTING\")\n        print(\"-\" * 40)\n        results['root_endpoint'] = self.test_root_endpoint()\n        results['get_cases_empty'] = self.test_get_cases_empty()\n        results['create_case'] = self.test_create_case()\n        results['get_cases_with_data'] = self.test_get_cases_with_data()\n        results['get_case_by_id'] = self.test_get_case_by_id()\n        \n        # PRIORITY 2 - Document Upload Testing\n        print(\"PRIORITY 2 - DOCUMENT UPLOAD TESTING\")\n        print(\"-\" * 40)\n        results['document_upload'] = self.test_document_upload()\n        results['ocr_status'] = self.test_ocr_status()\n        results['case_documents'] = self.test_case_documents()\n        \n        # Additional Tests\n        print(\"ADDITIONAL TESTS\")\n        print(\"-\" * 40)\n        results['cors_headers'] = self.test_cors_headers()\n        results['error_handling'] = self.test_error_handling()\n        \n        # Summary\n        print(\"=\" * 60)\n        print(\"TEST SUMMARY\")\n        print(\"=\" * 60)\n        \n        passed = sum(1 for result in results.values() if result)\n        total = len(results)\n        \n        print(f\"Tests Passed: {passed}/{total}\")\n        print(f\"Success Rate: {(passed/total)*100:.1f}%\")\n        print()\n        \n        if passed == total:\n            print(\"üéâ ALL TESTS PASSED! The Legal Practice Management API is working correctly.\")\n        else:\n            print(\"‚ö†Ô∏è  Some tests failed. Please check the detailed results above.\")\n            failed_tests = [name for name, result in results.items() if not result]\n            print(f\"Failed tests: {', '.join(failed_tests)}\")\n        \n        return results\n\ndef main():\n    \"\"\"Main test execution\"\"\"\n    tester = LegalPracticeAPITester()\n    results = tester.run_all_tests()\n    \n    # Return exit code based on results\n    if all(results.values()):\n        exit(0)  # All tests passed\n    else:\n        exit(1)  # Some tests failed\n\nif __name__ == \"__main__\":\n    main()","size_bytes":18146},"next.config.js":{"content":"const nextConfig = {\n  output: 'standalone',\n  images: {\n    unoptimized: true,\n  },\n  experimental: {\n    // Remove if not using Server Components\n    serverComponentsExternalPackages: ['mongodb'],\n  },\n  webpack(config, { dev }) {\n    if (dev) {\n      // Reduce CPU/memory from file watching\n      config.watchOptions = {\n        poll: 2000, // check every 2 seconds\n        aggregateTimeout: 300, // wait before rebuilding\n        ignored: ['**/node_modules'],\n      };\n    }\n    return config;\n  },\n  onDemandEntries: {\n    maxInactiveAge: 10000,\n    pagesBufferLength: 2,\n  },\n  async headers() {\n    return [\n      {\n        source: \"/(.*)\",\n        headers: [\n          { key: \"X-Frame-Options\", value: \"ALLOWALL\" },\n          { key: \"Content-Security-Policy\", value: \"frame-ancestors *;\" },\n          { key: \"Access-Control-Allow-Origin\", value: process.env.CORS_ORIGINS || \"*\" },\n          { key: \"Access-Control-Allow-Methods\", value: \"GET, POST, PUT, DELETE, OPTIONS\" },\n          { key: \"Access-Control-Allow-Headers\", value: \"*\" },\n        ],\n      },\n    ];\n  },\n};\n\nmodule.exports = nextConfig;\n","size_bytes":1110},"postcss.config.js":{"content":"module.exports = {\n    plugins: {\n      tailwindcss: {},\n      autoprefixer: {},\n    },\n  }","size_bytes":91},"render.yaml":{"content":"services:\n  # Web Service\n  - type: web\n    name: legal-practice-app\n    env: node\n    plan: starter\n    buildCommand: |\n      npm ci --no-audit --no-fund\n      npm run build\n    startCommand: npm start\n    envVars:\n      - key: NODE_ENV\n        value: production\n      - key: PORT\n        value: 3000\n      - key: POSTGRES_URL\n        value: postgresql://postgres.fulczneorzmbeajdnrtt:[YOUR-PASSWORD]@aws-1-eu-central-1.pooler.supabase.com:5432/postgres\n      - key: GEMINI_API_KEY\n        sync: false\n      - key: CORS_ORIGINS\n        value: https://legal-practice-app.onrender.com\n\n  # Database Service (MongoDB)\n  - type: pserv\n    name: legal-practice-db\n    plan: starter\n    disk:\n      name: legal-practice-db-disk\n      mountPath: /data\n      sizeGB: 1\n    envVars:\n      - key: MONGO_INITDB_ROOT_USERNAME\n        value: admin\n      - key: MONGO_INITDB_ROOT_PASSWORD\n        generateValue: true\n      - key: MONGO_INITDB_DATABASE\n        value: legal_practice\n\n  # Alternative: PostgreSQL Database (if you want to use PostgreSQL instead of MongoDB)\n  - type: pserv\n    name: legal-practice-postgres\n    plan: starter\n    env: docker\n    dockerfilePath: ./Dockerfile.postgres\n    envVars:\n      - key: POSTGRES_DB\n        value: legal_practice\n      - key: POSTGRES_USER\n        value: admin\n      - key: POSTGRES_PASSWORD\n        generateValue: true\n","size_bytes":1359},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n    darkMode: [\"class\"],\n    content: [\n      './pages/**/*.{js,jsx}',\n      './components/**/*.{js,jsx}',\n      './app/**/*.{js,jsx}',\n      './src/**/*.{js,jsx}',\n    ],\n    prefix: \"\",\n    theme: {\n    \tcontainer: {\n    \t\tcenter: true,\n    \t\tpadding: '2rem',\n    \t\tscreens: {\n    \t\t\t'2xl': '1400px'\n    \t\t}\n    \t},\n    \textend: {\n    \t\tcolors: {\n    \t\t\tborder: 'hsl(var(--border))',\n    \t\t\tinput: 'hsl(var(--input))',\n    \t\t\tring: 'hsl(var(--ring))',\n    \t\t\tbackground: 'hsl(var(--background))',\n    \t\t\tforeground: 'hsl(var(--foreground))',\n    \t\t\tprimary: {\n    \t\t\t\tDEFAULT: 'hsl(var(--primary))',\n    \t\t\t\tforeground: 'hsl(var(--primary-foreground))'\n    \t\t\t},\n    \t\t\tsecondary: {\n    \t\t\t\tDEFAULT: 'hsl(var(--secondary))',\n    \t\t\t\tforeground: 'hsl(var(--secondary-foreground))'\n    \t\t\t},\n    \t\t\tdestructive: {\n    \t\t\t\tDEFAULT: 'hsl(var(--destructive))',\n    \t\t\t\tforeground: 'hsl(var(--destructive-foreground))'\n    \t\t\t},\n    \t\t\tmuted: {\n    \t\t\t\tDEFAULT: 'hsl(var(--muted))',\n    \t\t\t\tforeground: 'hsl(var(--muted-foreground))'\n    \t\t\t},\n    \t\t\taccent: {\n    \t\t\t\tDEFAULT: 'hsl(var(--accent))',\n    \t\t\t\tforeground: 'hsl(var(--accent-foreground))'\n    \t\t\t},\n    \t\t\tpopover: {\n    \t\t\t\tDEFAULT: 'hsl(var(--popover))',\n    \t\t\t\tforeground: 'hsl(var(--popover-foreground))'\n    \t\t\t},\n    \t\t\tcard: {\n    \t\t\t\tDEFAULT: 'hsl(var(--card))',\n    \t\t\t\tforeground: 'hsl(var(--card-foreground))'\n    \t\t\t},\n    \t\t\tchart: {\n    \t\t\t\t'1': 'hsl(var(--chart-1))',\n    \t\t\t\t'2': 'hsl(var(--chart-2))',\n    \t\t\t\t'3': 'hsl(var(--chart-3))',\n    \t\t\t\t'4': 'hsl(var(--chart-4))',\n    \t\t\t\t'5': 'hsl(var(--chart-5))'\n    \t\t\t},\n    \t\t\tsidebar: {\n    \t\t\t\tDEFAULT: 'hsl(var(--sidebar-background))',\n    \t\t\t\tforeground: 'hsl(var(--sidebar-foreground))',\n    \t\t\t\tprimary: 'hsl(var(--sidebar-primary))',\n    \t\t\t\t'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',\n    \t\t\t\taccent: 'hsl(var(--sidebar-accent))',\n    \t\t\t\t'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',\n    \t\t\t\tborder: 'hsl(var(--sidebar-border))',\n    \t\t\t\tring: 'hsl(var(--sidebar-ring))'\n    \t\t\t}\n    \t\t},\n    \t\tborderRadius: {\n    \t\t\tlg: 'var(--radius)',\n    \t\t\tmd: 'calc(var(--radius) - 2px)',\n    \t\t\tsm: 'calc(var(--radius) - 4px)'\n    \t\t},\n    \t\tkeyframes: {\n    \t\t\t'accordion-down': {\n    \t\t\t\tfrom: {\n    \t\t\t\t\theight: '0'\n    \t\t\t\t},\n    \t\t\t\tto: {\n    \t\t\t\t\theight: 'var(--radix-accordion-content-height)'\n    \t\t\t\t}\n    \t\t\t},\n    \t\t\t'accordion-up': {\n    \t\t\t\tfrom: {\n    \t\t\t\t\theight: 'var(--radix-accordion-content-height)'\n    \t\t\t\t},\n    \t\t\t\tto: {\n    \t\t\t\t\theight: '0'\n    \t\t\t\t}\n    \t\t\t}\n    \t\t},\n    \t\tanimation: {\n    \t\t\t'accordion-down': 'accordion-down 0.2s ease-out',\n    \t\t\t'accordion-up': 'accordion-up 0.2s ease-out'\n    \t\t}\n    \t}\n    },\n    plugins: [require(\"tailwindcss-animate\")],\n  }","size_bytes":2818},"test_result.md":{"content":"#====================================================================================================\n# START - Testing Protocol - DO NOT EDIT OR REMOVE THIS SECTION\n#====================================================================================================\n\n# THIS SECTION CONTAINS CRITICAL TESTING INSTRUCTIONS FOR BOTH AGENTS\n# BOTH MAIN_AGENT AND TESTING_AGENT MUST PRESERVE THIS ENTIRE BLOCK\n\n# Communication Protocol:\n# If the `testing_agent` is available, main agent should delegate all testing tasks to it.\n#\n# You have access to a file called `test_result.md`. This file contains the complete testing state\n# and history, and is the primary means of communication between main and the testing agent.\n#\n# Main and testing agents must follow this exact format to maintain testing data. \n# The testing data must be entered in yaml format Below is the data structure:\n# \n## user_problem_statement: {problem_statement}\n## backend:\n##   - task: \"Task name\"\n##     implemented: true\n##     working: true  # or false or \"NA\"\n##     file: \"file_path.py\"\n##     stuck_count: 0\n##     priority: \"high\"  # or \"medium\" or \"low\"\n##     needs_retesting: false\n##     status_history:\n##         -working: true  # or false or \"NA\"\n##         -agent: \"main\"  # or \"testing\" or \"user\"\n##         -comment: \"Detailed comment about status\"\n##\n## frontend:\n##   - task: \"Task name\"\n##     implemented: true\n##     working: true  # or false or \"NA\"\n##     file: \"file_path.js\"\n##     stuck_count: 0\n##     priority: \"high\"  # or \"medium\" or \"low\"\n##     needs_retesting: false\n##     status_history:\n##         -working: true  # or false or \"NA\"\n##         -agent: \"main\"  # or \"testing\" or \"user\"\n##         -comment: \"Detailed comment about status\"\n##\n## metadata:\n##   created_by: \"main_agent\"\n##   version: \"1.0\"\n##   test_sequence: 0\n##   run_ui: false\n##\n## test_plan:\n##   current_focus:\n##     - \"Task name 1\"\n##     - \"Task name 2\"\n##   stuck_tasks:\n##     - \"Task name with persistent issues\"\n##   test_all: false\n##   test_priority: \"high_first\"  # or \"sequential\" or \"stuck_first\"\n##\n## agent_communication:\n##     -agent: \"main\"  # or \"testing\" or \"user\"\n##     -message: \"Communication message between agents\"\n\n# Protocol Guidelines for Main agent\n#\n# 1. Update Test Result File Before Testing:\n#    - Main agent must always update the `test_result.md` file before calling the testing agent\n#    - Add implementation details to the status_history\n#    - Set `needs_retesting` to true for tasks that need testing\n#    - Update the `test_plan` section to guide testing priorities\n#    - Add a message to `agent_communication` explaining what you've done\n#\n# 2. Incorporate User Feedback:\n#    - When a user provides feedback that something is or isn't working, add this information to the relevant task's status_history\n#    - Update the working status based on user feedback\n#    - If a user reports an issue with a task that was marked as working, increment the stuck_count\n#    - Whenever user reports issue in the app, if we have testing agent and task_result.md file so find the appropriate task for that and append in status_history of that task to contain the user concern and problem as well \n#\n# 3. Track Stuck Tasks:\n#    - Monitor which tasks have high stuck_count values or where you are fixing same issue again and again, analyze that when you read task_result.md\n#    - For persistent issues, use websearch tool to find solutions\n#    - Pay special attention to tasks in the stuck_tasks list\n#    - When you fix an issue with a stuck task, don't reset the stuck_count until the testing agent confirms it's working\n#\n# 4. Provide Context to Testing Agent:\n#    - When calling the testing agent, provide clear instructions about:\n#      - Which tasks need testing (reference the test_plan)\n#      - Any authentication details or configuration needed\n#      - Specific test scenarios to focus on\n#      - Any known issues or edge cases to verify\n#\n# 5. Call the testing agent with specific instructions referring to test_result.md\n#\n# IMPORTANT: Main agent must ALWAYS update test_result.md BEFORE calling the testing agent, as it relies on this file to understand what to test next.\n\n#====================================================================================================\n# END - Testing Protocol - DO NOT EDIT OR REMOVE THIS SECTION\n#====================================================================================================\n\n\n\n#====================================================================================================\n# Testing Data - Main Agent and testing sub agent both should log testing data below this section\n#====================================================================================================","size_bytes":4774},"app/globals.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\nbody {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\n        \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\",\n        \"Helvetica Neue\", sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n        monospace;\n}\n\n.App {\n    text-align: center;\n}\n\n.App-logo {\n    height: 40vmin;\n    pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n    .App-logo {\n        animation: App-logo-spin infinite 20s linear;\n    }\n}\n\n.App-header {\n    background-color: #0f0f10;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n}\n\n.App-link {\n    color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n\n\n@layer base {\n  :root {\n        --background: 0 0% 100%;\n        --foreground: 222.2 84% 4.9%;\n        --card: 0 0% 100%;\n        --card-foreground: 222.2 84% 4.9%;\n        --popover: 0 0% 100%;\n        --popover-foreground: 222.2 84% 4.9%;\n        --primary: 222.2 47.4% 11.2%;\n        --primary-foreground: 210 40% 98%;\n        --secondary: 210 40% 96.1%;\n        --secondary-foreground: 222.2 47.4% 11.2%;\n        --muted: 210 40% 96.1%;\n        --muted-foreground: 215.4 16.3% 46.9%;\n        --accent: 210 40% 96.1%;\n        --accent-foreground: 222.2 47.4% 11.2%;\n        --destructive: 0 84.2% 60.2%;\n        --destructive-foreground: 210 40% 98%;\n        --border: 214.3 31.8% 91.4%;\n        --input: 214.3 31.8% 91.4%;\n        --ring: 222.2 84% 4.9%;\n        --chart-1: 12 76% 61%;\n        --chart-2: 173 58% 39%;\n        --chart-3: 197 37% 24%;\n        --chart-4: 43 74% 66%;\n        --chart-5: 27 87% 67%;\n        --radius: 0.5rem;\n        --sidebar-background: 0 0% 98%;\n        --sidebar-foreground: 240 5.3% 26.1%;\n        --sidebar-primary: 240 5.9% 10%;\n        --sidebar-primary-foreground: 0 0% 98%;\n        --sidebar-accent: 240 4.8% 95.9%;\n        --sidebar-accent-foreground: 240 5.9% 10%;\n        --sidebar-border: 220 13% 91%;\n        --sidebar-ring: 217.2 91.2% 59.8%;\n    }\n  .dark {\n        --background: 222.2 84% 4.9%;\n        --foreground: 210 40% 98%;\n        --card: 222.2 84% 4.9%;\n        --card-foreground: 210 40% 98%;\n        --popover: 222.2 84% 4.9%;\n        --popover-foreground: 210 40% 98%;\n        --primary: 210 40% 98%;\n        --primary-foreground: 222.2 47.4% 11.2%;\n        --secondary: 217.2 32.6% 17.5%;\n        --secondary-foreground: 210 40% 98%;\n        --muted: 217.2 32.6% 17.5%;\n        --muted-foreground: 215 20.2% 65.1%;\n        --accent: 217.2 32.6% 17.5%;\n        --accent-foreground: 210 40% 98%;\n        --destructive: 0 62.8% 30.6%;\n        --destructive-foreground: 210 40% 98%;\n        --border: 217.2 32.6% 17.5%;\n        --input: 217.2 32.6% 17.5%;\n        --ring: 212.7 26.8% 83.9%;\n        --chart-1: 220 70% 50%;\n        --chart-2: 160 60% 45%;\n        --chart-3: 30 80% 55%;\n        --chart-4: 280 65% 60%;\n        --chart-5: 340 75% 55%;\n        --sidebar-background: 240 5.9% 10%;\n        --sidebar-foreground: 240 4.8% 95.9%;\n        --sidebar-primary: 224.3 76.3% 48%;\n        --sidebar-primary-foreground: 0 0% 100%;\n        --sidebar-accent: 240 3.7% 15.9%;\n        --sidebar-accent-foreground: 240 4.8% 95.9%;\n        --sidebar-border: 240 3.7% 15.9%;\n        --sidebar-ring: 217.2 91.2% 59.8%;\n    }\n}\n\n\n\n@layer base {\n  * {\n    @apply border-border;\n    }\n  body {\n    @apply bg-background text-foreground;\n    }\n}","size_bytes":3757},"app/layout.js":{"content":"import './globals.css'\nimport { Toaster } from \"@/components/ui/sonner\"\n\nexport const metadata = {\n  title: '–ê–¥–≤–æ–∫–∞—Ç—Å–∫–∞—è –ü—Ä–∞–∫—Ç–∏–∫–∞ - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –î–µ–ª–∞–º–∏',\n  description: '–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —Å OCR –∏ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º',\n}\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"ru\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      </head>\n      <body className=\"min-h-screen bg-gray-50 antialiased\">\n        {children}\n        <Toaster />\n      </body>\n    </html>\n  )\n}","size_bytes":677},"app/page.js":{"content":"'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Plus, Search, FileText, Users, Calendar, Settings, AlertCircle, Upload, Clock, CheckCircle, MessageCircle, Send, X, Download, Paperclip, Trash2 } from 'lucide-react'\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { toast } from \"sonner\"\nimport { useDropzone } from 'react-dropzone'\nimport { Progress } from \"@/components/ui/progress\"\n\nexport default function App() {\n  const [cases, setCases] = useState([])\n  const [selectedCase, setSelectedCase] = useState(null)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [isLoading, setIsLoading] = useState(true)\n  const [showNewCaseDialog, setShowNewCaseDialog] = useState(false)\n  const [documents, setDocuments] = useState([])\n  const [uploadProgress, setUploadProgress] = useState({})\n  const [ocrProgress, setOcrProgress] = useState({})\n  const [showChat, setShowChat] = useState(false)\n  const [chatMessages, setChatMessages] = useState([])\n  const [chatInput, setChatInput] = useState('')\n  const [isChatLoading, setIsChatLoading] = useState(false)\n  const [showPhotoModal, setShowPhotoModal] = useState(false)\n  const [selectedPhoto, setSelectedPhoto] = useState(null)\n  const [photoIndex, setPhotoIndex] = useState(0)\n  const [additionalFiles, setAdditionalFiles] = useState([])\n  const [showAdditionalFiles, setShowAdditionalFiles] = useState(false)\n  const [showAddFileDialog, setShowAddFileDialog] = useState(false)\n\n  // Load cases on component mount\n  useEffect(() => {\n    loadCases()\n  }, [])\n\n  const loadCases = async () => {\n    try {\n      setIsLoading(true)\n      const response = await fetch('/api/optimized/cases')\n      if (response.ok) {\n        const data = await response.json()\n        setCases(data)\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ–ª')\n      }\n    } catch (error) {\n      console.error('Error loading cases:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const createCase = async (caseData) => {\n    try {\n      const response = await fetch('/api/optimized/cases', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(caseData)\n      })\n      \n      if (response.ok) {\n        const newCase = await response.json()\n        setCases([...cases, newCase])\n        setShowNewCaseDialog(false)\n        toast.success('–î–µ–ª–æ —Å–æ–∑–¥–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ')\n        return newCase\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–ª–∞')\n      }\n    } catch (error) {\n      console.error('Error creating case:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º')\n    }\n  }\n\n  // Document upload with OCR\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.gif', '.bmp'],\n      'application/pdf': ['.pdf']\n    },\n    maxSize: 10 * 1024 * 1024, // 10MB\n    maxFiles: 10,\n    onDrop: async (acceptedFiles) => {\n      if (!selectedCase) {\n        toast.error('–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ª–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤')\n        return\n      }\n      \n      for (const file of acceptedFiles) {\n        await uploadDocument(file)\n      }\n    }\n  })\n\n  const uploadDocument = async (file) => {\n    const fileId = Date.now() + '-' + file.name\n    \n    // Initialize progress\n    setUploadProgress(prev => ({ ...prev, [fileId]: 0 }))\n    setOcrProgress(prev => ({ ...prev, [fileId]: { status: 'pending', progress: 0 } }))\n    \n    try {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('caseId', selectedCase.id)\n      \n      // Upload with progress\n      const response = await fetch('/api/optimized/photos/upload', {\n        method: 'POST',\n        body: formData,\n      })\n      \n      if (response.ok) {\n        const uploadResult = await response.json()\n        setUploadProgress(prev => ({ ...prev, [fileId]: 100 }))\n        \n        // Start OCR processing\n        setOcrProgress(prev => ({ \n          ...prev, \n          [fileId]: { status: 'processing', progress: 0 } \n        }))\n        \n        // Poll OCR status\n        pollOcrStatus(uploadResult.documentId, fileId)\n        \n        toast.success(`–§–∞–π–ª ${file.name} –∑–∞–≥—Ä—É–∂–µ–Ω. –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ OCR...`)\n      } else {\n        throw new Error('Upload failed')\n      }\n    } catch (error) {\n      console.error('Upload error:', error)\n      toast.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${file.name}`)\n      setUploadProgress(prev => ({ ...prev, [fileId]: 0 }))\n      setOcrProgress(prev => ({ ...prev, [fileId]: { status: 'failed', progress: 0 } }))\n    }\n  }\n\n  const pollOcrStatus = async (documentId, fileId) => {\n    try {\n      const response = await fetch(`/api/optimized/photos/${documentId}/ocr-status`)\n      \n      if (response.ok) {\n        const status = await response.json()\n        \n        setOcrProgress(prev => ({ \n          ...prev, \n          [fileId]: { \n            status: status.status, \n            progress: status.progress || 0,\n            extractedText: status.extractedText\n          } \n        }))\n        \n        if (status.status === 'completed') {\n          toast.success('OCR –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ')\n          loadDocuments(selectedCase.id) // Refresh documents\n        } else if (status.status === 'failed') {\n          toast.error('–û—à–∏–±–∫–∞ OCR –æ–±—Ä–∞–±–æ—Ç–∫–∏')\n        } else {\n          // Continue polling\n          setTimeout(() => pollOcrStatus(documentId, fileId), 2000)\n        }\n      }\n    } catch (error) {\n      console.error('OCR polling error:', error)\n      setOcrProgress(prev => ({ \n        ...prev, \n        [fileId]: { status: 'failed', progress: 0 } \n      }))\n    }\n  }\n\n  const loadDocuments = async (caseId) => {\n    try {\n      const response = await fetch(`/api/optimized/cases/${caseId}`)\n      if (response.ok) {\n        const caseData = await response.json()\n        setDocuments(caseData.photos || [])\n      }\n    } catch (error) {\n      console.error('Error loading documents:', error)\n    }\n  }\n\n  // AI Chat functions\n  const loadChatHistory = async (caseId) => {\n    try {\n      const response = await fetch(`/api/optimized/cases/${caseId}/chat`)\n      if (response.ok) {\n        const messages = await response.json()\n        setChatMessages(messages)\n      }\n    } catch (error) {\n      console.error('Error loading chat history:', error)\n    }\n  }\n\n  const sendChatMessage = async () => {\n    if (!chatInput.trim() || !selectedCase) return\n\n    setIsChatLoading(true)\n    const userMessage = chatInput.trim()\n    setChatInput('')\n\n    // Add user message to UI immediately\n    const newUserMessage = {\n      id: Date.now(),\n      message_type: 'user',\n      message_text: userMessage,\n      created_at: new Date().toISOString()\n    }\n    setChatMessages(prev => [...prev, newUserMessage])\n\n    try {\n      const response = await fetch(`/api/optimized/cases/${selectedCase.id}/chat`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ message: userMessage })\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        const aiMessage = {\n          id: Date.now() + 1,\n          message_type: 'ai',\n          message_text: data.response,\n          created_at: new Date().toISOString()\n        }\n        setChatMessages(prev => [...prev, aiMessage])\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è')\n      }\n    } catch (error) {\n      console.error('Error sending message:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ò–ò')\n    } finally {\n      setIsChatLoading(false)\n    }\n  }\n\n  // Photo modal functions\n  const openPhotoModal = (photo, index) => {\n    setSelectedPhoto(photo)\n    setPhotoIndex(index)\n    setShowPhotoModal(true)\n  }\n\n  const nextPhoto = () => {\n    if (documents.length > 0) {\n      const nextIndex = (photoIndex + 1) % documents.length\n      setPhotoIndex(nextIndex)\n      setSelectedPhoto(documents[nextIndex])\n    }\n  }\n\n  const prevPhoto = () => {\n    if (documents.length > 0) {\n      const prevIndex = photoIndex === 0 ? documents.length - 1 : photoIndex - 1\n      setPhotoIndex(prevIndex)\n      setSelectedPhoto(documents[prevIndex])\n    }\n  }\n\n  // Download PDF with all OCR transcriptions\n  const downloadPDF = async () => {\n    if (!selectedCase) return\n\n    try {\n      const response = await fetch(`/api/optimized/cases/${selectedCase.id}/pdf`)\n      \n      if (response.ok) {\n        const blob = await response.blob()\n        const url = window.URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `case_${selectedCase.case_number}_transcriptions.pdf`\n        document.body.appendChild(a)\n        a.click()\n        window.URL.revokeObjectURL(url)\n        document.body.removeChild(a)\n        toast.success('PDF —Å–∫–∞—á–∞–Ω —É—Å–ø–µ—à–Ω–æ')\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è PDF')\n      }\n    } catch (error) {\n      console.error('PDF download error:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è PDF')\n    }\n  }\n\n  // Load additional files for a case\n  const loadAdditionalFiles = async (caseId) => {\n    try {\n      const response = await fetch(`/api/optimized/cases/${caseId}/additional-files`)\n      if (response.ok) {\n        const files = await response.json()\n        setAdditionalFiles(files)\n      }\n    } catch (error) {\n      console.error('Error loading additional files:', error)\n    }\n  }\n\n  // Upload additional file\n  const uploadAdditionalFile = async (file, description, isImportant) => {\n    if (!selectedCase) return\n\n    try {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('caseId', selectedCase.id)\n      formData.append('description', description)\n      formData.append('isImportant', isImportant)\n\n      const response = await fetch('/api/optimized/additional-files/upload', {\n        method: 'POST',\n        body: formData,\n      })\n\n      if (response.ok) {\n        toast.success('–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ')\n        loadAdditionalFiles(selectedCase.id)\n        setShowAddFileDialog(false)\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞')\n      }\n    } catch (error) {\n      console.error('Upload error:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º')\n    }\n  }\n\n  // Delete additional file\n  const deleteAdditionalFile = async (fileId) => {\n    try {\n      const response = await fetch(`/api/optimized/additional-files/${fileId}`, {\n        method: 'DELETE',\n      })\n\n      if (response.ok) {\n        toast.success('–§–∞–π–ª —É–¥–∞–ª–µ–Ω')\n        loadAdditionalFiles(selectedCase.id)\n      } else {\n        toast.error('–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞')\n      }\n    } catch (error) {\n      console.error('Delete error:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º')\n    }\n  }\n\n  // Download additional file\n  const downloadAdditionalFile = async (file) => {\n    try {\n      // Create a temporary download link\n      const blob = new Blob(['–§–∞–π–ª: ' + file.original_name + '\\n–û–ø–∏—Å–∞–Ω–∏–µ: ' + (file.description || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è')], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = file.original_name\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n      toast.success('–§–∞–π–ª —Å–∫–∞—á–∞–Ω')\n    } catch (error) {\n      console.error('Download error:', error)\n      toast.error('–û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞')\n    }\n  }\n\n  // Load documents, chat and additional files when case is selected\n  useEffect(() => {\n    if (selectedCase) {\n      loadDocuments(selectedCase.id)\n      loadChatHistory(selectedCase.id)\n      loadAdditionalFiles(selectedCase.id)\n    }\n  }, [selectedCase])\n\n  const filteredCases = cases.filter(case_ => \n    case_.title?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    case_.client_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    case_.description?.toLowerCase().includes(searchTerm.toLowerCase())\n  )\n\n  const StatusBadge = ({ status }) => {\n    const variants = {\n      active: 'default',\n      paused: 'secondary', \n      completed: 'outline',\n      archived: 'destructive'\n    }\n    const labels = {\n      active: '–ê–∫—Ç–∏–≤–Ω–æ–µ',\n      paused: '–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ',\n      completed: '–ó–∞–≤–µ—Ä—à–µ–Ω–æ', \n      archived: '–ê—Ä—Ö–∏–≤'\n    }\n    return <Badge variant={variants[status]}>{labels[status]}</Badge>\n  }\n\n  const PriorityBadge = ({ priority }) => {\n    const variants = {\n      low: 'outline',\n      medium: 'secondary',\n      high: 'default',\n      urgent: 'destructive'\n    }\n    const labels = {\n      low: '–ù–∏–∑–∫–∏–π',\n      medium: '–°—Ä–µ–¥–Ω–∏–π', \n      high: '–í—ã—Å–æ–∫–∏–π',\n      urgent: '–°—Ä–æ—á–Ω–æ'\n    }\n    return <Badge variant={variants[priority]}>{labels[priority]}</Badge>\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div className=\"flex items-center\">\n              <FileText className=\"h-8 w-8 text-blue-600 mr-3\" />\n              <h1 className=\"text-2xl font-bold text-gray-900\">–ê–¥–≤–æ–∫–∞—Ç—Å–∫–∞—è –ü—Ä–∞–∫—Ç–∏–∫–∞</h1>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              {selectedCase && (\n                <>\n                  <Button \n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={() => setShowAdditionalFiles(!showAdditionalFiles)}\n                    className=\"flex items-center space-x-1\"\n                  >\n                    <Paperclip className=\"h-4 w-4\" />\n                    <span className=\"hidden sm:inline\">–§–∞–π–ª—ã</span>\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={downloadPDF}\n                    className=\"flex items-center space-x-1\"\n                  >\n                    <Download className=\"h-4 w-4\" />\n                    <span className=\"hidden sm:inline\">PDF</span>\n                  </Button>\n                  <Button \n                    variant=\"outline\" \n                    size=\"sm\"\n                    onClick={() => setShowChat(!showChat)}\n                    className=\"flex items-center space-x-1\"\n                  >\n                    <MessageCircle className=\"h-4 w-4\" />\n                    <span className=\"hidden sm:inline\">–ò–ò-—á–∞—Ç</span>\n                  </Button>\n                </>\n              )}\n              <Button variant=\"outline\" size=\"sm\" className=\"flex items-center space-x-1\">\n                <Settings className=\"h-4 w-4\" />\n                <span className=\"hidden sm:inline\">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid gap-8 grid-cols-1 lg:grid-cols-4\">\n          {/* Left Sidebar - Cases List */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-lg shadow-sm border\">\n              <div className=\"p-6 border-b\">\n                <div className=\"flex justify-between items-center mb-4\">\n                  <h2 className=\"text-lg font-semibold\">–î–µ–ª–∞</h2>\n                  <Dialog open={showNewCaseDialog} onOpenChange={setShowNewCaseDialog}>\n                    <DialogTrigger asChild>\n                      <Button size=\"sm\">\n                        <Plus className=\"h-4 w-4 mr-2\" />\n                        –ù–æ–≤–æ–µ –¥–µ–ª–æ\n                      </Button>\n                    </DialogTrigger>\n                    <DialogContent className=\"sm:max-w-md\">\n                      <DialogHeader>\n                        <DialogTitle>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –¥–µ–ª–æ</DialogTitle>\n                        <DialogDescription>\n                          –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ–ª–µ\n                        </DialogDescription>\n                      </DialogHeader>\n                      <NewCaseForm onSubmit={createCase} />\n                    </DialogContent>\n                  </Dialog>\n                </div>\n                \n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                  <Input\n                    placeholder=\"–ü–æ–∏—Å–∫ –¥–µ–ª...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"pl-10\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"max-h-96 overflow-y-auto\">\n                {filteredCases.length === 0 ? (\n                  <div className=\"p-6 text-center text-gray-500\">\n                    {cases.length === 0 ? '–î–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω–æ' : '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É'}\n                  </div>\n                ) : (\n                  filteredCases.map((case_) => (\n                    <div \n                      key={case_.id}\n                      className={`p-4 border-b cursor-pointer hover:bg-gray-50 ${\n                        selectedCase?.id === case_.id ? 'bg-blue-50 border-l-4 border-l-blue-600' : ''\n                      }`}\n                      onClick={() => setSelectedCase(case_)}\n                    >\n                      <div className=\"flex justify-between items-start mb-2\">\n                        <h3 className=\"font-medium text-sm\">{case_.title}</h3>\n                        <StatusBadge status={case_.status} />\n                      </div>\n                      <p className=\"text-xs text-gray-600 mb-2\">{case_.client_name}</p>\n                      <div className=\"flex justify-between items-center\">\n                        <PriorityBadge priority={case_.priority} />\n                        <span className=\"text-xs text-gray-500\">\n                          {new Date(case_.created_at).toLocaleDateString('ru-RU')}\n                        </span>\n                      </div>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"lg:col-span-3\">\n            {selectedCase ? (\n              <div className=\"space-y-6\">\n                {/* Case Info Header */}\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <div>\n                      <h2 className=\"text-xl font-bold text-gray-900\">{selectedCase.title}</h2>\n                      <p className=\"text-gray-600\">{selectedCase.client_name}</p>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <StatusBadge status={selectedCase.status} />\n                      <PriorityBadge priority={selectedCase.priority} />\n                    </div>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mb-4\">{selectedCase.description}</p>\n                  <div className=\"flex space-x-2\">\n                    <Button \n                      variant=\"outline\" \n                      size=\"sm\"\n                      onClick={downloadPDF}\n                      className=\"flex items-center space-x-1\"\n                    >\n                      <Download className=\"h-4 w-4\" />\n                      <span>–°–∫–∞—á–∞—Ç—å PDF</span>\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Photos Section */}\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold\">–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</h3>\n                    <div {...getRootProps()} className=\"cursor-pointer\">\n                      <input {...getInputProps()} />\n                      <Button size=\"sm\">\n                        <Upload className=\"h-4 w-4 mr-2\" />\n                        –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã\n                      </Button>\n                    </div>\n                  </div>\n                  \n                  {documents.length === 0 ? (\n                    <div className=\"text-center py-8 text-gray-500\">\n                      <FileText className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                      <p>–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</p>\n                      <p className=\"text-sm\">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ \"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã\"</p>\n                    </div>\n                  ) : (\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n                      {documents.map((doc, index) => (\n                        <div \n                          key={doc.id} \n                          className=\"relative bg-gray-50 rounded-lg p-4 cursor-pointer hover:shadow-md transition-shadow\"\n                          onClick={() => openPhotoModal(doc, index)}\n                        >\n                          <div className=\"text-center\">\n                            <FileText className=\"h-12 w-12 mx-auto mb-2 text-blue-600\" />\n                            <div className=\"absolute top-2 right-2 bg-blue-600 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold\">\n                              {index + 1}\n                            </div>\n                            <p className=\"text-xs font-medium truncate mb-1\">{doc.original_name}</p>\n                            <p className=\"text-xs text-gray-500\">\n                              {(doc.file_size / 1024).toFixed(1)} KB\n                            </p>\n                            {doc.raw_text && (\n                              <Badge variant=\"outline\" className=\"text-xs mt-1\">OCR –≥–æ—Ç–æ–≤</Badge>\n                            )}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* Additional Files Section */}\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold\">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã</h3>\n                    <Button \n                      variant=\"outline\" \n                      size=\"sm\"\n                      onClick={() => setShowAddFileDialog(true)}\n                    >\n                      <Plus className=\"h-4 w-4 mr-1\" />\n                      –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª\n                    </Button>\n                  </div>\n                  \n                  {additionalFiles.length === 0 ? (\n                    <div className=\"text-center py-8 text-gray-500\">\n                      <Paperclip className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                      <p>–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤</p>\n                      <p className=\"text-sm\">–ù–∞–∂–º–∏—Ç–µ \"–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª\" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-3\">\n                      {additionalFiles.map((file) => (\n                        <div key={file.id} className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center space-x-3 flex-1\">\n                              <FileText className=\"h-8 w-8 text-blue-600 flex-shrink-0\" />\n                              <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-center space-x-2 mb-1\">\n                                  <p className=\"text-sm font-medium truncate\">{file.original_name}</p>\n                                  {file.is_important && (\n                                    <Badge variant=\"destructive\" className=\"text-xs\">–í–∞–∂–Ω–æ</Badge>\n                                  )}\n                                </div>\n                                <p className=\"text-xs text-gray-500\">\n                                  {new Date(file.created_at).toLocaleDateString('ru-RU')} ‚Ä¢ \n                                  {(file.file_size / 1024).toFixed(1)} KB\n                                </p>\n                                {file.description && (\n                                  <p className=\"text-xs text-gray-600 mt-1\">{file.description}</p>\n                                )}\n                              </div>\n                            </div>\n                            <div className=\"flex space-x-2\">\n                              <Button \n                                variant=\"ghost\" \n                                size=\"sm\"\n                                onClick={() => downloadAdditionalFile(file)}\n                              >\n                                <Download className=\"h-4 w-4\" />\n                              </Button>\n                              <Button \n                                variant=\"ghost\" \n                                size=\"sm\"\n                                onClick={() => deleteAdditionalFile(file.id)}\n                              >\n                                <Trash2 className=\"h-4 w-4\" />\n                              </Button>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                {/* AI Chat Section */}\n                <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold\">–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</h3>\n                    <Button \n                      variant={showChat ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      onClick={() => setShowChat(!showChat)}\n                    >\n                      <MessageCircle className=\"h-4 w-4 mr-2\" />\n                      {showChat ? '–°–∫—Ä—ã—Ç—å —á–∞—Ç' : '–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç'}\n                    </Button>\n                  </div>\n                  \n                  {showChat && (\n                    <div className=\"border rounded-lg h-96 flex flex-col\">\n                      <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n                        {chatMessages.length === 0 ? (\n                          <div className=\"text-center text-gray-500 py-8\">\n                            <MessageCircle className=\"h-12 w-12 mx-auto mb-4 text-gray-300\" />\n                            <p>–ù–∞—á–Ω–∏—Ç–µ –¥–∏–∞–ª–æ–≥ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º</p>\n                            <p className=\"text-sm\">–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∑–Ω–∞–µ—Ç –≤—Å–µ –æ –≤–∞—à–µ–º –¥–µ–ª–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö</p>\n                          </div>\n                        ) : (\n                          chatMessages.map((message) => (\n                            <div \n                              key={message.id}\n                              className={`flex ${message.message_type === 'user' ? 'justify-end' : 'justify-start'}`}\n                            >\n                              <div className={`max-w-[80%] p-3 rounded-lg ${\n                                message.message_type === 'user' \n                                  ? 'bg-blue-500 text-white' \n                                  : 'bg-gray-100 text-gray-900'\n                              }`}>\n                                <p className=\"text-sm\">{message.message_text}</p>\n                                <p className=\"text-xs opacity-70 mt-1\">\n                                  {new Date(message.created_at).toLocaleTimeString()}\n                                </p>\n                              </div>\n                            </div>\n                          ))\n                        )}\n                        {isChatLoading && (\n                          <div className=\"flex justify-start\">\n                            <div className=\"bg-gray-100 p-3 rounded-lg\">\n                              <div className=\"flex space-x-1\">\n                                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n                                <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                      \n                      <div className=\"p-4 border-t\">\n                        <div className=\"flex space-x-2\">\n                          <Input\n                            value={chatInput}\n                            onChange={(e) => setChatInput(e.target.value)}\n                            placeholder=\"–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –¥–µ–ª–µ...\"\n                            onKeyPress={(e) => e.key === 'Enter' && sendChatMessage()}\n                          />\n                          <Button \n                            onClick={sendChatMessage}\n                            disabled={!chatInput.trim() || isChatLoading}\n                          >\n                            <Send className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-white rounded-lg shadow-sm border p-12 text-center\">\n                <FileText className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n                <h3 className=\"text-xl font-medium text-gray-900 mb-2\">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ª–æ</h3>\n                <p className=\"text-gray-500\">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–ª–æ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π</p>\n              </div>\n            )}\n          </div>\n\n        </div>\n      </div>\n\n              {/* Photo Modal */}\n              <Dialog open={showPhotoModal} onOpenChange={setShowPhotoModal}>\n                <DialogContent className=\"max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n                  <div className=\"space-y-4\">\n                    <div className=\"flex justify-between items-center\">\n                      <h3 className=\"text-lg font-semibold\">\n                        {selectedPhoto?.original_name} ({photoIndex + 1} –∏–∑ {documents.length})\n                      </h3>\n                      <div className=\"flex items-center space-x-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={downloadPDF}\n                          className=\"flex items-center space-x-1\"\n                        >\n                          <Download className=\"h-4 w-4\" />\n                          <span>–°–∫–∞—á–∞—Ç—å PDF</span>\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setShowPhotoModal(false)}\n                        >\n                          <X className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n            \n                    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n                      <div className=\"text-center mb-4\">\n                        <div className=\"w-24 h-24 mx-auto mb-3 bg-gray-200 rounded-lg flex items-center justify-center\">\n                          <FileText className=\"h-12 w-12 text-gray-400\" />\n                        </div>\n                        <h3 className=\"text-lg font-semibold text-gray-800 mb-1\">\n                          {selectedPhoto?.original_name}\n                        </h3>\n                        <p className=\"text-sm text-gray-500\">\n                          –ó–∞–≥—Ä—É–∂–µ–Ω: {selectedPhoto && new Date(selectedPhoto.created_at).toLocaleDateString('ru-RU')}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                          –†–∞–∑–º–µ—Ä: {selectedPhoto && (selectedPhoto.file_size / 1024).toFixed(1)} KB\n                        </p>\n                      </div>\n              \n                      {/* Navigation buttons */}\n                      {documents.length > 1 && (\n                        <div className=\"flex justify-between mt-4\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={prevPhoto}\n                            className=\"flex items-center space-x-1\"\n                          >\n                            ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={nextPhoto}\n                            className=\"flex items-center space-x-1\"\n                          >\n                            –°–ª–µ–¥—É—é—â–∏–π ‚Üí\n                          </Button>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* OCR Text Display */}\n                    {selectedPhoto?.raw_text && (\n                      <div className=\"bg-gray-50 rounded-lg p-4\">\n                        <div className=\"flex items-center mb-3\">\n                          <FileText className=\"h-5 w-5 text-blue-600 mr-2\" />\n                          <h4 className=\"text-lg font-semibold text-gray-800\">–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</h4>\n                        </div>\n                        <div className=\"bg-white rounded-lg p-4 border\">\n                          <p className=\"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed\">\n                            {selectedPhoto.raw_text}\n                          </p>\n                        </div>\n                        {selectedPhoto.confidence_score && (\n                          <div className=\"mt-3 text-xs text-gray-500\">\n                            –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å OCR: {(selectedPhoto.confidence_score * 100).toFixed(1)}%\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Add Additional File Dialog */}\n      <Dialog open={showAddFileDialog} onOpenChange={setShowAddFileDialog}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle>–î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª</DialogTitle>\n            <DialogDescription>\n              –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫ –¥–µ–ª—É (Word, PDF, Excel –∏ —Ç.–¥.)\n            </DialogDescription>\n          </DialogHeader>\n          \n          <AddFileForm \n            onSubmit={uploadAdditionalFile}\n            onCancel={() => setShowAddFileDialog(false)}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n\n// Add File Form Component\nfunction AddFileForm({ onSubmit, onCancel }) {\n  const [file, setFile] = useState(null)\n  const [description, setDescription] = useState('')\n  const [isImportant, setIsImportant] = useState(false)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (file) {\n      onSubmit(file, description, isImportant)\n      setFile(null)\n      setDescription('')\n      setIsImportant(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"file\">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</Label>\n        <Input\n          id=\"file\"\n          type=\"file\"\n          onChange={(e) => setFile(e.target.files[0])}\n          accept=\".doc,.docx,.pdf,.xls,.xlsx,.txt,.rtf\"\n          required\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: Word, PDF, Excel, —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã\n        </p>\n      </div>\n\n      <div>\n        <Label htmlFor=\"description\">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</Label>\n        <Textarea\n          id=\"description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          placeholder=\"–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞...\"\n          rows={3}\n        />\n      </div>\n\n      <div className=\"flex items-center space-x-2\">\n        <input\n          type=\"checkbox\"\n          id=\"isImportant\"\n          checked={isImportant}\n          onChange={(e) => setIsImportant(e.target.checked)}\n          className=\"rounded\"\n        />\n        <Label htmlFor=\"isImportant\" className=\"text-sm\">\n          –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤–∞–∂–Ω—ã–π —Ñ–∞–π–ª\n        </Label>\n      </div>\n\n      <div className=\"flex justify-end space-x-2\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          –û—Ç–º–µ–Ω–∞\n        </Button>\n        <Button type=\"submit\" disabled={!file}>\n          –ó–∞–≥—Ä—É–∑–∏—Ç—å\n        </Button>\n      </div>\n    </form>\n  )\n}\n\n// New Case Form Component\nfunction NewCaseForm({ onSubmit }) {\n  const [formData, setFormData] = useState({\n    title: '',\n    client_name: '',\n    description: '',\n    priority: 'medium',\n    case_type: ''\n  })\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onSubmit(formData)\n    setFormData({\n      title: '',\n      client_name: '',\n      description: '',\n      priority: 'medium',\n      case_type: ''\n    })\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"title\">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–ª–∞</Label>\n        <Input\n          id=\"title\"\n          value={formData.title}\n          onChange={(e) => setFormData({...formData, title: e.target.value})}\n          placeholder=\"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–µ–ª–∞\"\n          required\n        />\n      </div>\n      \n      <div>\n        <Label htmlFor=\"client_name\">–ö–ª–∏–µ–Ω—Ç</Label>\n        <Input\n          id=\"client_name\"\n          value={formData.client_name}\n          onChange={(e) => setFormData({...formData, client_name: e.target.value})}\n          placeholder=\"–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞\"\n          required\n        />\n      </div>\n      \n      <div>\n        <Label htmlFor=\"case_type\">–¢–∏–ø –¥–µ–ª–∞</Label>\n        <Input\n          id=\"case_type\"\n          value={formData.case_type}\n          onChange={(e) => setFormData({...formData, case_type: e.target.value})}\n          placeholder=\"–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ, —É–≥–æ–ª–æ–≤–Ω–æ–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ...\"\n        />\n      </div>\n      \n      <div>\n        <Label htmlFor=\"priority\">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</Label>\n        <Select value={formData.priority} onValueChange={(value) => setFormData({...formData, priority: value})}>\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"low\">–ù–∏–∑–∫–∏–π</SelectItem>\n            <SelectItem value=\"medium\">–°—Ä–µ–¥–Ω–∏–π</SelectItem>\n            <SelectItem value=\"high\">–í—ã—Å–æ–∫–∏–π</SelectItem>\n            <SelectItem value=\"urgent\">–°—Ä–æ—á–Ω—ã–π</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n      \n      <div>\n        <Label htmlFor=\"description\">–û–ø–∏—Å–∞–Ω–∏–µ</Label>\n        <Textarea\n          id=\"description\"\n          value={formData.description}\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\n          placeholder=\"–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã...\"\n          rows={3}\n        />\n      </div>\n      \n      <Button type=\"submit\" className=\"w-full\">\n        –°–æ–∑–¥–∞—Ç—å –¥–µ–ª–æ\n      </Button>\n    </form>\n  )\n}\n\n// Case Details Component\nfunction CaseDetails({ case_, documents, uploadProps, uploadProgress, ocrProgress, onPhotoClick }) {\n  const { getRootProps, getInputProps, isDragActive } = uploadProps\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Case Info Card */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <CardTitle>{case_.title}</CardTitle>\n              <CardDescription className=\"mt-2\">\n                –ö–ª–∏–µ–Ω—Ç: {case_.client_name} ‚Ä¢ –¢–∏–ø: {case_.case_type || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n              </CardDescription>\n            </div>\n            <div className=\"flex space-x-2\">\n              <Badge variant={case_.status === 'active' ? 'default' : 'secondary'}>\n                {case_.status === 'active' ? '–ê–∫—Ç–∏–≤–Ω–æ–µ' : case_.status}\n              </Badge>\n              <Badge variant={case_.priority === 'urgent' ? 'destructive' : 'outline'}>\n                {case_.priority === 'urgent' ? '–°—Ä–æ—á–Ω–æ' : case_.priority}\n              </Badge>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-gray-700\">{case_.description}</p>\n          <div className=\"mt-4 text-sm text-gray-500\">\n            –°–æ–∑–¥–∞–Ω–æ: {new Date(case_.created_at).toLocaleDateString('ru-RU')}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Documents Section */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <Upload className=\"h-5 w-5 mr-2\" />\n            –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏\n          </CardTitle>\n          <CardDescription>\n            –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π OCR –æ–±—Ä–∞–±–æ—Ç–∫–∏\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {/* Upload Area */}\n          <div \n            {...getRootProps()}\n            className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${\n              isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-blue-400'\n            }`}\n          >\n            <input {...getInputProps()} />\n            <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            {isDragActive ? (\n              <p className=\"text-blue-500\">–û—Ç–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –∑–¥–µ—Å—å...</p>\n            ) : (\n              <>\n                <p className=\"text-gray-600 mb-2\">\n                  –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞\n                </p>\n                <p className=\"text-sm text-gray-500\">\n                  –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPG, PNG, GIF, BMP) –∏ PDF –¥–æ 10–ú–ë\n                </p>\n              </>\n            )}\n          </div>\n\n          {/* Upload Progress */}\n          {Object.keys(uploadProgress).length > 0 && (\n            <div className=\"mt-6 space-y-3\">\n              <h4 className=\"font-medium\">–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏:</h4>\n              {Object.entries(uploadProgress).map(([fileId, progress]) => (\n                <div key={fileId} className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span>–ó–∞–≥—Ä—É–∑–∫–∞ {fileId.split('-').slice(1).join('-')}</span>\n                    <span>{progress}%</span>\n                  </div>\n                  <Progress value={progress} className=\"h-2\" />\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* OCR Progress */}\n          {Object.keys(ocrProgress).length > 0 && (\n            <div className=\"mt-6 space-y-3\">\n              <h4 className=\"font-medium\">–ü—Ä–æ–≥—Ä–µ—Å—Å OCR –æ–±—Ä–∞–±–æ—Ç–∫–∏:</h4>\n              {Object.entries(ocrProgress).map(([fileId, status]) => (\n                <div key={fileId} className=\"border rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    {status.status === 'pending' && <Clock className=\"h-4 w-4 text-yellow-500\" />}\n                    {status.status === 'processing' && <div className=\"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full\" />}\n                    {status.status === 'completed' && <CheckCircle className=\"h-4 w-4 text-green-500\" />}\n                    {status.status === 'failed' && <AlertCircle className=\"h-4 w-4 text-red-500\" />}\n                    \n                    <span className=\"text-sm font-medium\">\n                      {fileId.split('-').slice(1).join('-')}\n                    </span>\n                    <Badge variant=\"outline\" className=\"ml-auto\">\n                      {status.status === 'pending' && '–û–∂–∏–¥–∞–Ω–∏–µ'}\n                      {status.status === 'processing' && '–û–±—Ä–∞–±–æ—Ç–∫–∞'}\n                      {status.status === 'completed' && '–ì–æ—Ç–æ–≤–æ'}\n                      {status.status === 'failed' && '–û—à–∏–±–∫–∞'}\n                    </Badge>\n                  </div>\n                  \n                  {status.extractedText && (\n                    <div className=\"mt-3 p-3 bg-gray-50 rounded text-sm\">\n                      <strong>–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</strong>\n                      <p className=\"mt-1\">{status.extractedText.substring(0, 200)}...</p>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Documents List */}\n          {documents.length > 0 && (\n            <div className=\"mt-6\">\n              <h4 className=\"font-medium mb-3\">–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:</h4>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {documents.map((doc, index) => (\n                          <div\n                            key={doc.id}\n                            className=\"border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer bg-white\"\n                            onClick={() => onPhotoClick(doc, index)}\n                          >\n                            <div className=\"flex items-start space-x-3\">\n                              <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                                <FileText className=\"h-6 w-6 text-blue-600\" />\n                              </div>\n                              <div className=\"flex-1 min-w-0\">\n                                <p className=\"text-sm font-medium text-gray-900 truncate\">{doc.original_name}</p>\n                                <p className=\"text-xs text-gray-500 mt-1\">\n                                  {new Date(doc.created_at).toLocaleDateString('ru-RU')}\n                                </p>\n                                {doc.raw_text && (\n                                  <div className=\"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600\">\n                                    <strong>OCR:</strong> {doc.raw_text.substring(0, 100)}...\n                                  </div>\n                                )}\n                                <div className=\"mt-2 text-xs text-blue-600 font-medium\">\n                                  –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}","size_bytes":49082},"hooks/use-mobile.jsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":545},"hooks/use-toast.js":{"content":"\"use client\";\n// Inspired by react-hot-toast library\nimport * as React from \"react\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\"\n}\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString();\n}\n\nconst toastTimeouts = new Map()\n\nconst addToRemoveQueue = (toastId) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n}\n\nconst listeners = []\n\nlet memoryState = { toasts: [] }\n\nfunction dispatch(action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\nfunction toast({\n  ...props\n}) {\n  const id = genId()\n\n  const update = (props) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    };\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast }\n","size_bytes":3085},"lib/utils.js":{"content":"import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs) {\n  return twMerge(clsx(inputs));\n}\n","size_bytes":137},"tests/__init__.py":{"content":"","size_bytes":0},"components/ui/accordion.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}>\n      {children}\n      <ChevronDown\n        className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}>\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1629},"components/ui/alert-dialog.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref} />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props} />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)}\n    {...props} />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props} />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)}\n    {...props} />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":3475},"components/ui/alert.jsx":{"content":"import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props} />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props} />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props} />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1335},"components/ui/aspect-ratio.jsx":{"content":"\"use client\"\n\nimport * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":154},"components/ui/avatar.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)}\n    {...props} />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props} />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props} />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1043},"components/ui/badge.jsx":{"content":"import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  ...props\n}) {\n  return (<div className={cn(badgeVariants({ variant }), className)} {...props} />);\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":990},"components/ui/breadcrumb.jsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef(\n  ({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />\n)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props} />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props} />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props} />\n  );\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props} />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}>\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}>\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2269},"components/ui/button.jsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    <Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props} />\n  );\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1676},"components/ui/calendar.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayPicker, getDefaultClassNames } from \"react-day-picker\";\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-fit\", defaultClassNames.root),\n        months: cn(\"relative flex flex-col gap-4 md:flex-row\", defaultClassNames.months),\n        month: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n        nav: cn(\n          \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n          defaultClassNames.nav\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          \"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn(\"absolute inset-0 opacity-0\", defaultClassNames.dropdown),\n        caption_label: cn(\"select-none font-medium\", captionLayout === \"label\"\n          ? \"text-sm\"\n          : \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\", defaultClassNames.caption_label),\n        table: \"w-full border-collapse\",\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\n        weekday: cn(\n          \"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n          defaultClassNames.weekday\n        ),\n        week: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n        week_number_header: cn(\"w-[--cell-size] select-none\", defaultClassNames.week_number_header),\n        week_number: cn(\n          \"text-muted-foreground select-none text-[0.8rem]\",\n          defaultClassNames.week_number\n        ),\n        day: cn(\n          \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n          defaultClassNames.day\n        ),\n        range_start: cn(\"bg-accent rounded-l-md\", defaultClassNames.range_start),\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n        range_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n        today: cn(\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n          defaultClassNames.today\n        ),\n        outside: cn(\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\n          defaultClassNames.outside\n        ),\n        disabled: cn(\"text-muted-foreground opacity-50\", defaultClassNames.disabled),\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (<div data-slot=\"calendar\" ref={rootRef} className={cn(className)} {...props} />);\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (<ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />);\n          }\n\n          if (orientation === \"right\") {\n            return (<ChevronRightIcon className={cn(\"size-4\", className)} {...props} />);\n          }\n\n          return (<ChevronDownIcon className={cn(\"size-4\", className)} {...props} />);\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div\n                className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          );\n        },\n        ...components,\n      }}\n      {...props} />\n  );\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props} />\n  );\n}\n\nexport { Calendar, CalendarDayButton }\n","size_bytes":6981},"components/ui/card.jsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1440},"components/ui/carousel.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport useEmblaCarousel from \"embla-carousel-react\";\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\nconst CarouselContext = React.createContext(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef((\n  {\n    orientation = \"horizontal\",\n    opts,\n    setApi,\n    plugins,\n    className,\n    children,\n    ...props\n  },\n  ref\n) => {\n  const [carouselRef, api] = useEmblaCarousel({\n    ...opts,\n    axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n  }, plugins)\n  const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n  const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n  const onSelect = React.useCallback((api) => {\n    if (!api) {\n      return\n    }\n\n    setCanScrollPrev(api.canScrollPrev())\n    setCanScrollNext(api.canScrollNext())\n  }, [])\n\n  const scrollPrev = React.useCallback(() => {\n    api?.scrollPrev()\n  }, [api])\n\n  const scrollNext = React.useCallback(() => {\n    api?.scrollNext()\n  }, [api])\n\n  const handleKeyDown = React.useCallback((event) => {\n    if (event.key === \"ArrowLeft\") {\n      event.preventDefault()\n      scrollPrev()\n    } else if (event.key === \"ArrowRight\") {\n      event.preventDefault()\n      scrollNext()\n    }\n  }, [scrollPrev, scrollNext])\n\n  React.useEffect(() => {\n    if (!api || !setApi) {\n      return\n    }\n\n    setApi(api)\n  }, [api, setApi])\n\n  React.useEffect(() => {\n    if (!api) {\n      return\n    }\n\n    onSelect(api)\n    api.on(\"reInit\", onSelect)\n    api.on(\"select\", onSelect)\n\n    return () => {\n      api?.off(\"select\", onSelect)\n    };\n  }, [api, onSelect])\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        carouselRef,\n        api: api,\n        opts,\n        orientation:\n          orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n        scrollPrev,\n        scrollNext,\n        canScrollPrev,\n        canScrollNext,\n      }}>\n      <div\n        ref={ref}\n        onKeyDownCapture={handleKeyDown}\n        className={cn(\"relative\", className)}\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        {...props}>\n        {children}\n      </div>\n    </CarouselContext.Provider>\n  );\n})\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props} />\n    </div>\n  );\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props} />\n  );\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\"absolute  h-8 w-8 rounded-full\", orientation === \"horizontal\"\n        ? \"-left-12 top-1/2 -translate-y-1/2\"\n        : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\", className)}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}>\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  );\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\"absolute h-8 w-8 rounded-full\", orientation === \"horizontal\"\n        ? \"-right-12 top-1/2 -translate-y-1/2\"\n        : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\", className)}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}>\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  );\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport { Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };\n","size_bytes":4825},"components/ui/chart.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = {\n  light: \"\",\n  dark: \".dark\"\n}\n\nconst ChartContext = React.createContext(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}>\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  );\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({\n  id,\n  config\n}) => {\n  const colorConfig = Object.entries(config).filter(([, config]) => config.theme || config.color)\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n.map(([key, itemConfig]) => {\nconst color =\n  itemConfig.theme?.[theme] ||\n  itemConfig.color\nreturn color ? `  --color-${key}: ${color};` : null\n})\n.join(\"\\n\")}\n}\n`)\n          .join(\"\\n\"),\n      }} />\n  );\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef((\n  {\n    active,\n    payload,\n    className,\n    indicator = \"dot\",\n    hideLabel = false,\n    hideIndicator = false,\n    label,\n    labelFormatter,\n    labelClassName,\n    formatter,\n    color,\n    nameKey,\n    labelKey,\n  },\n  ref\n) => {\n  const { config } = useChart()\n\n  const tooltipLabel = React.useMemo(() => {\n    if (hideLabel || !payload?.length) {\n      return null\n    }\n\n    const [item] = payload\n    const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n    const itemConfig = getPayloadConfigFromPayload(config, item, key)\n    const value =\n      !labelKey && typeof label === \"string\"\n        ? config[label]?.label || label\n        : itemConfig?.label\n\n    if (labelFormatter) {\n      return (\n        <div className={cn(\"font-medium\", labelClassName)}>\n          {labelFormatter(value, payload)}\n        </div>\n      );\n    }\n\n    if (!value) {\n      return null\n    }\n\n    return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>;\n  }, [\n    label,\n    labelFormatter,\n    payload,\n    hideLabel,\n    labelClassName,\n    config,\n    labelKey,\n  ])\n\n  if (!active || !payload?.length) {\n    return null\n  }\n\n  const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n        className\n      )}>\n      {!nestLabel ? tooltipLabel : null}\n      <div className=\"grid gap-1.5\">\n        {payload.map((item, index) => {\n          const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n          const indicatorColor = color || item.payload.fill || item.color\n\n          return (\n            <div\n              key={item.dataKey}\n              className={cn(\n                \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                indicator === \"dot\" && \"items-center\"\n              )}>\n              {formatter && item?.value !== undefined && item.name ? (\n                formatter(item.value, item.name, item, index, item.payload)\n              ) : (\n                <>\n                  {itemConfig?.icon ? (\n                    <itemConfig.icon />\n                  ) : (\n                    !hideIndicator && (\n                      <div\n                        className={cn(\"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\", {\n                          \"h-2.5 w-2.5\": indicator === \"dot\",\n                          \"w-1\": indicator === \"line\",\n                          \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                            indicator === \"dashed\",\n                          \"my-0.5\": nestLabel && indicator === \"dashed\",\n                        })}\n                        style={\n                          {\n                            \"--color-bg\": indicatorColor,\n                            \"--color-border\": indicatorColor\n                          }\n                        } />\n                    )\n                  )}\n                  <div\n                    className={cn(\n                      \"flex flex-1 justify-between leading-none\",\n                      nestLabel ? \"items-end\" : \"items-center\"\n                    )}>\n                    <div className=\"grid gap-1.5\">\n                      {nestLabel ? tooltipLabel : null}\n                      <span className=\"text-muted-foreground\">\n                        {itemConfig?.label || item.name}\n                      </span>\n                    </div>\n                    {item.value && (\n                      <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                        {item.value.toLocaleString()}\n                      </span>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n})\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef((\n  { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n  ref\n) => {\n  const { config } = useChart()\n\n  if (!payload?.length) {\n    return null\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"flex items-center justify-center gap-4\",\n        verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n        className\n      )}>\n      {payload.map((item) => {\n        const key = `${nameKey || item.dataKey || \"value\"}`\n        const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n        return (\n          <div\n            key={item.value}\n            className={cn(\n              \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n            )}>\n            {itemConfig?.icon && !hideIcon ? (\n              <itemConfig.icon />\n            ) : (\n              <div\n                className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                style={{\n                  backgroundColor: item.color,\n                }} />\n            )}\n            {itemConfig?.label}\n          </div>\n        );\n      })}\n    </div>\n  );\n})\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config,\n  payload,\n  key\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey = key\n\n  if (\n    key in payload &&\n    typeof payload[key] === \"string\"\n  ) {\n    configLabelKey = payload[key]\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[key]\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key];\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":8627},"components/ui/checkbox.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}>\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":894},"components/ui/collapsible.jsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"components/ui/command.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props} />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({\n  children,\n  ...props\n}) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command\n          className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nconst CommandInput = React.forwardRef(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props} />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props} />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef((props, ref) => (\n  <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props} />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props} />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)}\n      {...props} />\n  );\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":3907},"components/ui/context-menu.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}>\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props} />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props} />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props} />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props} />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)}\n      {...props} />\n  );\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":6189},"components/ui/dialog.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props} />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}>\n      {children}\n      <DialogPrimitive.Close\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}\n    {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3228},"components/ui/drawer.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}) => (\n  <DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props} />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}>\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props} />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}) => (\n  <div className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)} {...props} />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":2359},"components/ui/dropdown-menu.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}>\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props} />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props} />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props} />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props} />\n  );\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":6359},"components/ui/form.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { Controller, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\nconst FormFieldContext = React.createContext({})\n\nconst FormField = (\n  {\n    ...props\n  }\n) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\nconst FormItemContext = React.createContext({})\n\nconst FormItem = React.forwardRef(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  );\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props} />\n  );\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props} />\n  );\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props} />\n  );\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}>\n      {body}\n    </p>\n  );\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":3135},"components/ui/hover-card.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props} />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1123},"components/ui/input-otp.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\"flex items-center gap-2 has-[:disabled]:opacity-50\", containerClassName)}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props} />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}>\n      {char}\n      {hasFakeCaret && (\n        <div\n          className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  );\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":1823},"components/ui/input.jsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":688},"components/ui/label.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":539},"components/ui/menubar.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}) {\n  return <MenubarPrimitive.Menu {...props} />;\n}\n\nfunction MenubarGroup({\n  ...props\n}) {\n  return <MenubarPrimitive.Group {...props} />;\n}\n\nfunction MenubarPortal({\n  ...props\n}) {\n  return <MenubarPrimitive.Portal {...props} />;\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}) {\n  return <MenubarPrimitive.RadioGroup {...props} />;\n}\n\nfunction MenubarSub({\n  ...props\n}) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />;\n}\n\nconst Menubar = React.forwardRef(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props} />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props} />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}>\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props} />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef((\n  { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n  ref\n) => (\n  <MenubarPrimitive.Portal>\n    <MenubarPrimitive.Content\n      ref={ref}\n      align={align}\n      alignOffset={alignOffset}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </MenubarPrimitive.Portal>\n))\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props} />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props} />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)}\n      {...props} />\n  );\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":6888},"components/ui/navigation-menu.jsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}>\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props} />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}>\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\" />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props} />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}>\n    <div\n      className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":4299},"components/ui/pagination.jsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\";\n\nconst Pagination = ({\n  className,\n  ...props\n}) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props} />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props} />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(buttonVariants({\n      variant: isActive ? \"outline\" : \"ghost\",\n      size,\n    }), className)}\n    {...props} />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}>\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}>\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}>\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2322},"components/ui/popover.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1230},"components/ui/progress.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}>\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":667},"components/ui/radio-group.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef(({ className, ...props }, ref) => {\n  return (<RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />);\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}>\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1147},"components/ui/resizable.jsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props} />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}>\n    {withHandle && (\n      <div\n        className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1570},"components/ui/scroll-area.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}>\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}>\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1376},"components/ui/select.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}>\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}>\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\"p-1\", position === \"popper\" &&\n          \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\")}>\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props} />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":4783},"components/ui/separator.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef((\n  { className, orientation = \"horizontal\", decorative = true, ...props },\n  ref\n) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn(\n      \"shrink-0 bg-border\",\n      orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n      className\n    )}\n    {...props} />\n))\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":614},"components/ui/sheet.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva } from \"class-variance-authority\";\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref} />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\nconst SheetContent = React.forwardRef(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n      <SheetPrimitive.Close\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)}\n    {...props} />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props} />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":3549},"components/ui/sidebar.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\nconst SidebarContext = React.createContext(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef((\n  {\n    defaultOpen = true,\n    open: openProp,\n    onOpenChange: setOpenProp,\n    className,\n    style,\n    children,\n    ...props\n  },\n  ref\n) => {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback((value) => {\n    const openState = typeof value === \"function\" ? value(open) : value\n    if (setOpenProp) {\n      setOpenProp(openState)\n    } else {\n      _setOpen(openState)\n    }\n\n    // This sets the cookie to keep the sidebar state.\n    document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n  }, [setOpenProp, open])\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile\n      ? setOpenMobile((open) => !open)\n      : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo(() => ({\n    state,\n    open,\n    setOpen,\n    isMobile,\n    openMobile,\n    setOpenMobile,\n    toggleSidebar,\n  }), [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar])\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style\n            }\n          }\n          className={cn(\n            \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n            className\n          )}\n          ref={ref}\n          {...props}>\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n})\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef((\n  {\n    side = \"left\",\n    variant = \"sidebar\",\n    collapsible = \"offcanvas\",\n    className,\n    children,\n    ...props\n  },\n  ref\n) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\n          \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n          className\n        )}\n        ref={ref}\n        {...props}>\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE\n            }\n          }\n          side={side}>\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}>\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n        )} />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}>\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n})\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}>\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props} />\n  );\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props} />\n  );\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props} />\n  );\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props} />\n  );\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props} />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props} />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props} />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef((\n  {\n    asChild = false,\n    isActive = false,\n    variant = \"default\",\n    size = \"default\",\n    tooltip,\n    className,\n    ...props\n  },\n  ref\n) => {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props} />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip} />\n    </Tooltip>\n  );\n})\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props} />\n  );\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props} />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}>\n      {showIcon && (\n        <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width\n          }\n        } />\n    </div>\n  );\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props} />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef(\n  ({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"a\"\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-sub-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(\n          \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n          \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n          size === \"sm\" && \"text-xs\",\n          size === \"md\" && \"text-sm\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className\n        )}\n        {...props} />\n    );\n  }\n)\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":20660},"components/ui/skeleton.jsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props} />\n  );\n}\n\nexport { Skeleton }\n","size_bytes":225},"components/ui/slider.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n    {...props}>\n    <SliderPrimitive.Track\n      className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb\n      className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":928},"components/ui/sonner.jsx":{"content":"\"use client\";\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\nconst Toaster = ({\n  ...props\n}) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props} />\n  );\n}\n\nexport { Toaster }\n","size_bytes":797},"components/ui/switch.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}>\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )} />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1039},"components/ui/table.jsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props} />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props} />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\", className)}\n    {...props} />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props} />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props} />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props} />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2231},"components/ui/tabs.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props} />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props} />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props} />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1543},"components/ui/textarea.jsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":585},"components/ui/toast.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva } from \"class-variance-authority\";\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props} />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props} />\n  );\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props} />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}>\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold [&+div]:text-xs\", className)}\n    {...props} />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description ref={ref} className={cn(\"text-sm opacity-90\", className)} {...props} />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\nexport { ToastProvider, ToastViewport, Toast, ToastTitle, ToastDescription, ToastClose, ToastAction };\n","size_bytes":3843},"components/ui/toaster.jsx":{"content":"\"use client\"\n\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        );\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  );\n}\n","size_bytes":788},"components/ui/toggle-group.jsx":{"content":"\"use client\";\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}>\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(toggleVariants({\n        variant: context.variant || variant,\n        size: context.size || size,\n      }), className)}\n      {...props}>\n      {children}\n    </ToggleGroupPrimitive.Item>\n  );\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1282},"components/ui/toggle.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props} />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1324},"components/ui/tooltip.jsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props} />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1141},"app/api/[[...path]]/route.js":{"content":"import { MongoClient } from 'mongodb'\nimport { v4 as uuidv4 } from 'uuid'\nimport { NextResponse } from 'next/server'\nimport multer from 'multer'\nimport sharp from 'sharp'\n\n// MongoDB connection\nlet client\nlet db\n\nasync function connectToMongo() {\n  if (!client) {\n    client = new MongoClient(process.env.MONGO_URL)\n    await client.connect()\n    db = client.db(process.env.DB_NAME)\n  }\n  return db\n}\n\n// Helper function to handle CORS\nfunction handleCORS(response) {\n  response.headers.set('Access-Control-Allow-Origin', process.env.CORS_ORIGINS || '*')\n  response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS')\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization')\n  response.headers.set('Access-Control-Allow-Credentials', 'true')\n  return response\n}\n\n// OPTIONS handler for CORS\nexport async function OPTIONS() {\n  return handleCORS(new NextResponse(null, { status: 200 }))\n}\n\n// OCR Processing with Google Vision API\nasync function processOCR(imageBuffer) {\n  try {\n    const vision = require('@google-cloud/vision').ImageAnnotatorClient\n    const client = new vision({\n      keyFilename: process.env.GOOGLE_CLOUD_KEY_PATH,\n      apiKey: process.env.GOOGLE_VISION_API_KEY\n    })\n\n    const [result] = await client.textDetection({\n      image: { content: imageBuffer }\n    })\n\n    const detections = result.textAnnotations\n    if (detections && detections.length > 0) {\n      return {\n        success: true,\n        text: detections[0].description,\n        confidence: detections[0].confidence || 0.8\n      }\n    }\n\n    return { success: false, error: 'No text detected' }\n  } catch (error) {\n    console.error('OCR Error:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n// Route handler function\nasync function handleRoute(request, { params }) {\n  const { path = [] } = params\n  const route = `/${path.join('/')}`\n  const method = request.method\n\n  try {\n    const db = await connectToMongo()\n\n    // Root endpoint\n    if (route === '/' && method === 'GET') {\n      return handleCORS(NextResponse.json({ message: \"Legal Practice API Active\" }))\n    }\n\n    // Cases endpoints\n    if (route === '/cases' && method === 'GET') {\n      const cases = await db.collection('cases')\n        .find({})\n        .sort({ created_at: -1 })\n        .limit(100)\n        .toArray()\n      \n      const cleanedCases = cases.map(({ _id, ...rest }) => rest)\n      return handleCORS(NextResponse.json(cleanedCases))\n    }\n\n    if (route === '/cases' && method === 'POST') {\n      const body = await request.json()\n      \n      if (!body.title || !body.client_name) {\n        return handleCORS(NextResponse.json(\n          { error: \"title and client_name are required\" }, \n          { status: 400 }\n        ))\n      }\n\n      const newCase = {\n        id: uuidv4(),\n        case_number: `CASE-${Date.now()}`,\n        title: body.title,\n        client_name: body.client_name,\n        description: body.description || '',\n        case_type: body.case_type || '',\n        priority: body.priority || 'medium',\n        status: 'active',\n        created_at: new Date(),\n        updated_at: new Date()\n      }\n\n      await db.collection('cases').insertOne(newCase)\n      \n      // Remove MongoDB _id\n      const { _id, ...responseCase } = newCase\n      return handleCORS(NextResponse.json(responseCase))\n    }\n\n    // Get case by ID\n    if (route.match(/^\\/cases\\/[^\\/]+$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      const case_ = await db.collection('cases').findOne({ id: caseId })\n      \n      if (!case_) {\n        return handleCORS(NextResponse.json({ error: \"Case not found\" }, { status: 404 }))\n      }\n      \n      const { _id, ...cleanCase } = case_\n      return handleCORS(NextResponse.json(cleanCase))\n    }\n\n    // Get documents for a case\n    if (route.match(/^\\/cases\\/[^\\/]+\\/documents$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      const documents = await db.collection('case_documents')\n        .find({ case_id: caseId })\n        .sort({ created_at: -1 })\n        .toArray()\n      \n      const cleanedDocs = documents.map(({ _id, ...rest }) => rest)\n      return handleCORS(NextResponse.json(cleanedDocs))\n    }\n\n    // Document upload endpoint\n    if (route === '/documents/upload' && method === 'POST') {\n      try {\n        // Parse FormData manually since we can't use multer middleware directly\n        const formData = await request.formData()\n        const file = formData.get('file')\n        const caseId = formData.get('caseId')\n        \n        if (!file || !caseId) {\n          return handleCORS(NextResponse.json(\n            { error: \"File and caseId are required\" }, \n            { status: 400 }\n          ))\n        }\n\n        // Convert file to buffer\n        const bytes = await file.arrayBuffer()\n        const buffer = Buffer.from(bytes)\n\n        // Generate document ID\n        const documentId = uuidv4()\n        const fileName = `${documentId}-${file.name}`\n\n        // Store document metadata\n        const documentDoc = {\n          id: documentId,\n          case_id: caseId,\n          file_name: fileName,\n          original_name: file.name,\n          file_type: file.type,\n          file_size: buffer.length,\n          transcription_status: 'pending',\n          created_at: new Date(),\n          updated_at: new Date()\n        }\n\n        await db.collection('case_documents').insertOne(documentDoc)\n\n        // Start OCR processing in background\n        processDocumentOCR(documentId, buffer, db)\n\n        return handleCORS(NextResponse.json({ \n          success: true, \n          documentId: documentId,\n          message: \"Document uploaded, OCR processing started\" \n        }))\n\n      } catch (error) {\n        console.error('Upload error:', error)\n        return handleCORS(NextResponse.json(\n          { error: \"Upload failed: \" + error.message }, \n          { status: 500 }\n        ))\n      }\n    }\n\n    // OCR status check endpoint\n    if (route.match(/^\\/documents\\/[^\\/]+\\/ocr-status$/) && method === 'GET') {\n      const documentId = route.split('/')[2]\n      \n      const document = await db.collection('case_documents').findOne({ id: documentId })\n      \n      if (!document) {\n        return handleCORS(NextResponse.json({ error: \"Document not found\" }, { status: 404 }))\n      }\n      \n      return handleCORS(NextResponse.json({\n        status: document.transcription_status,\n        progress: document.transcription_status === 'completed' ? 100 : \n                 document.transcription_status === 'processing' ? 50 : 0,\n        extractedText: document.transcription\n      }))\n    }\n\n    // Route not found\n    return handleCORS(NextResponse.json(\n      { error: `Route ${route} not found` }, \n      { status: 404 }\n    ))\n\n  } catch (error) {\n    console.error('API Error:', error)\n    return handleCORS(NextResponse.json(\n      { error: \"Internal server error: \" + error.message }, \n      { status: 500 }\n    ))\n  }\n}\n\n// Background OCR processing function\nasync function processDocumentOCR(documentId, buffer, db) {\n  try {\n    // Update status to processing\n    await db.collection('case_documents').updateOne(\n      { id: documentId },\n      { \n        $set: { \n          transcription_status: 'processing',\n          updated_at: new Date()\n        } \n      }\n    )\n\n    // Process with Google Vision API\n    const ocrResult = await processOCR(buffer)\n\n    if (ocrResult.success) {\n      // Extract dates and numbers using regex\n      const extractedDates = extractDatesFromText(ocrResult.text)\n      const extractedNumbers = extractNumbersFromText(ocrResult.text)\n\n      await db.collection('case_documents').updateOne(\n        { id: documentId },\n        { \n          $set: { \n            transcription: ocrResult.text,\n            transcription_status: 'completed',\n            extracted_dates: extractedDates,\n            extracted_numbers: extractedNumbers,\n            updated_at: new Date()\n          } \n        }\n      )\n    } else {\n      await db.collection('case_documents').updateOne(\n        { id: documentId },\n        { \n          $set: { \n            transcription_status: 'failed',\n            transcription_error: ocrResult.error,\n            updated_at: new Date()\n          } \n        }\n      )\n    }\n  } catch (error) {\n    console.error('OCR processing error:', error)\n    \n    await db.collection('case_documents').updateOne(\n      { id: documentId },\n      { \n        $set: { \n          transcription_status: 'failed',\n          transcription_error: error.message,\n          updated_at: new Date()\n        } \n      }\n    )\n  }\n}\n\n// Helper functions for extracting structured data\nfunction extractDatesFromText(text) {\n  const dateRegexes = [\n    /(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})/g,  // DD.MM.YYYY\n    /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/g,  // DD/MM/YYYY\n    /(\\d{4})-(\\d{1,2})-(\\d{1,2})/g     // YYYY-MM-DD\n  ]\n  \n  const dates = []\n  dateRegexes.forEach(regex => {\n    let match\n    while ((match = regex.exec(text)) !== null) {\n      dates.push(match[0])\n    }\n  })\n  \n  return [...new Set(dates)] // Remove duplicates\n}\n\nfunction extractNumbersFromText(text) {\n  const numberRegexes = [\n    /‚Ññ\\s*(\\d+(?:[\\/\\-]\\d+)*)/g,        // Document numbers\n    /(\\d+(?:\\s\\d{3})*(?:[,\\.]\\d{2})?)\\s*(?:—Ä—É–±|‚ÇΩ)/gi, // Money amounts\n    /–¥–µ–ª–æ\\s*‚Ññ?\\s*(\\d+(?:[\\/\\-]\\d+)*)/gi // Case numbers\n  ]\n  \n  const numbers = []\n  numberRegexes.forEach(regex => {\n    let match\n    while ((match = regex.exec(text)) !== null) {\n      numbers.push(match[0])\n    }\n  })\n  \n  return [...new Set(numbers)] // Remove duplicates\n}\n\n// Export all HTTP methods\nexport const GET = handleRoute\nexport const POST = handleRoute\nexport const PUT = handleRoute\nexport const DELETE = handleRoute\nexport const PATCH = handleRoute","size_bytes":9802},"app/api/test/route.js":{"content":"import { NextResponse } from 'next/server'\n\nexport async function GET() {\n  return NextResponse.json({ \n    message: \"API is working!\",\n    timestamp: new Date().toISOString(),\n    status: \"success\"\n  })\n}\n","size_bytes":206},"app/api/optimized/[[...path]]/route.js":{"content":"import { GoogleGenerativeAI } from '@google/generative-ai'\nimport { NextResponse } from 'next/server'\nimport { v4 as uuidv4 } from 'uuid'\n\n// PostgreSQL connection\nlet pg = null\nlet client = null\n\nasync function connectToPostgres() {\n  if (!pg) {\n    pg = require('pg')\n  }\n  \n  if (!client) {\n    client = new pg.Client({\n      connectionString: process.env.POSTGRES_URL || process.env.DATABASE_URL\n    })\n    await client.connect()\n  }\n  \n  return client\n}\n\n// Gemini AI connection\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY || 'dummy-key')\n\n// Check if Gemini API key is valid\nif (!process.env.GEMINI_API_KEY || process.env.GEMINI_API_KEY === 'dummy-key') {\n  console.warn('‚ö†Ô∏è GEMINI_API_KEY not set! OCR and AI chat will not work.')\n}\n\n// Helper function to handle CORS\nfunction handleCORS(response) {\n  response.headers.set('Access-Control-Allow-Origin', process.env.CORS_ORIGINS || '*')\n  response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS')\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization')\n  response.headers.set('Access-Control-Allow-Credentials', 'true')\n  return response\n}\n\n// OPTIONS handler for CORS\nexport async function OPTIONS() {\n  return handleCORS(new NextResponse(null, { status: 200 }))\n}\n\n// OCR Processing with Gemini 2.5 Flash\nasync function processOCR(imageBuffer) {\n  try {\n    // Check if API key is valid\n    if (!process.env.GEMINI_API_KEY || process.env.GEMINI_API_KEY === 'dummy-key') {\n      return { \n        success: false, \n        error: 'GEMINI_API_KEY not configured. Please set a valid API key in environment variables.' \n      }\n    }\n\n    const base64Image = imageBuffer.toString('base64')\n    \n    const prompt = `\n    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –∏–∑–≤–ª–µ–∫–∏ –≤–µ—Å—å —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ –Ω–µ–º –Ω–∞–ø–∏—Å–∞–Ω. \n    –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.\n    –ï—Å–ª–∏ —ç—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç, –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ –¥–∞—Ç—ã, –Ω–æ–º–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Å—É–º–º—ã –¥–µ–Ω–µ–≥, –∏–º–µ–Ω–∞ –ª—é–¥–µ–π –∏ –¥—Ä—É–≥—É—é –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.\n    `\n    \n    const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" })\n    \n    const result = await model.generateContent([\n      {\n        inlineData: {\n          data: base64Image,\n          mimeType: \"image/jpeg\"\n        }\n      },\n      prompt\n    ])\n    \n    const response = await result.response\n    const text = response.text()\n    \n    return {\n      success: true,\n      text: text,\n      confidence: 0.9\n    }\n  } catch (error) {\n    console.error('Gemini OCR Error:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n// Get or create active session for case\nasync function getOrCreateActiveSession(caseId, db) {\n  if (!caseId) {\n    throw new Error('Case ID is required for session creation')\n  }\n  \n  const result = await db.query(`\n    SELECT get_or_create_active_session($1) as session_id\n  `, [caseId])\n  \n  return result.rows[0].session_id\n}\n\n// Get case context (cached or fresh)\nasync function getCaseContext(caseId, db) {\n  if (!caseId) {\n    throw new Error('Case ID is required')\n  }\n  \n  // Try to get cached context first\n  const cacheResult = await db.query(`\n    SELECT context_data, last_updated \n    FROM case_context_cache \n    WHERE case_id = $1 \n    ORDER BY last_updated DESC \n    LIMIT 1\n  `, [caseId])\n  \n  // If cache is fresh (less than 1 hour old), use it\n  if (cacheResult.rows.length > 0) {\n    const cacheAge = Date.now() - new Date(cacheResult.rows[0].last_updated).getTime()\n    if (cacheAge < 3600000) { // 1 hour\n      return cacheResult.rows[0].context_data\n    }\n  }\n  \n  // Build fresh context\n  const caseResult = await db.query(`\n    SELECT * FROM cases WHERE id = $1\n  `, [caseId])\n  \n  if (caseResult.rows.length === 0) {\n    throw new Error('Case not found')\n  }\n  \n  const photosResult = await db.query(`\n    SELECT \n      cp.*,\n      ocr.raw_text,\n      ocr.extracted_dates,\n      ocr.extracted_numbers,\n      ocr.extracted_names,\n      ocr.extracted_amounts,\n      ocr.confidence_score\n    FROM case_photos cp\n    LEFT JOIN photo_ocr_results ocr ON cp.id = ocr.photo_id\n    WHERE cp.case_id = $1\n    ORDER BY cp.display_order\n  `, [caseId])\n  \n  const context = {\n    case: caseResult.rows[0],\n    photos: photosResult.rows,\n    summary: {\n      total_photos: photosResult.rows.length,\n      processed_photos: photosResult.rows.filter(p => p.raw_text).length,\n      extracted_dates: [...new Set(photosResult.rows.flatMap(p => p.extracted_dates || []))],\n      extracted_numbers: [...new Set(photosResult.rows.flatMap(p => p.extracted_numbers || []))],\n      extracted_names: [...new Set(photosResult.rows.flatMap(p => p.extracted_names || []))],\n      extracted_amounts: [...new Set(photosResult.rows.flatMap(p => p.extracted_amounts || []))]\n    }\n  }\n  \n  // Cache the context\n  const cacheId = uuidv4()\n  try {\n    await db.query(`\n      INSERT INTO case_context_cache (id, case_id, context_data, last_updated)\n      VALUES ($1, $2, $3, $4)\n      ON CONFLICT (case_id) DO UPDATE SET \n        context_data = $3, \n        last_updated = $4\n    `, [cacheId, caseId, JSON.stringify(context), new Date().toISOString()])\n  } catch (error) {\n    console.error('Cache error:', error)\n    // Continue without caching if there's an error\n  }\n  \n  return context\n}\n\n// Create smart document summary for cost optimization\nfunction createDocumentSummary(photos) {\n  if (photos.length === 0) return \"–ù–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\"\n  \n  const processedPhotos = photos.filter(p => p.raw_text)\n  if (processedPhotos.length === 0) return \"–î–æ–∫—É–º–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –Ω–æ OCR –µ—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω\"\n  \n  // Group documents by type\n  const documentTypes = {}\n  processedPhotos.forEach(photo => {\n    const name = photo.original_name.toLowerCase()\n    let type = \"–î–æ–∫—É–º–µ–Ω—Ç\"\n    \n    if (name.includes('–ø–æ–≤–µ—Å—Ç–∫–∞') || name.includes('—Å—É–¥–µ–±–Ω')) type = \"–°—É–¥–µ–±–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\"\n    else if (name.includes('—Å–ø—Ä–∞–≤–∫–∞') || name.includes('–¥–æ—Ö–æ–¥')) type = \"–°–ø—Ä–∞–≤–∫–∏ –æ –¥–æ—Ö–æ–¥–∞—Ö\"\n    else if (name.includes('–ø–∞—Å–ø–æ—Ä—Ç') || name.includes('—É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ')) type = \"–£–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏\"\n    else if (name.includes('–¥–æ–≥–æ–≤–æ—Ä') || name.includes('—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ')) type = \"–î–æ–≥–æ–≤–æ—Ä—ã\"\n    else if (name.includes('—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ') || name.includes('—Å–≤–∏–¥–µ—Ç–µ–ª—å')) type = \"–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞\"\n    \n    if (!documentTypes[type]) documentTypes[type] = []\n    documentTypes[type].push(photo)\n  })\n  \n  // Create summary\n  let summary = `–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${photos.length} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (${processedPhotos.length} –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ):\\n`\n  \n  Object.entries(documentTypes).forEach(([type, docs]) => {\n    summary += `\\n${type} (${docs.length} —à—Ç.):\\n`\n    docs.forEach((doc, index) => {\n      const keyInfo = extractKeyInfo(doc.raw_text)\n      summary += `  ${index + 1}. ${doc.original_name} - ${keyInfo}\\n`\n    })\n  })\n  \n  return summary\n}\n\n// Extract key information from OCR text\nfunction extractKeyInfo(text) {\n  if (!text) return \"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö\"\n  \n  const lines = text.split('\\n').filter(line => line.trim())\n  const keyLines = lines.slice(0, 3) // First 3 lines usually contain key info\n  return keyLines.join(' | ')\n}\n\n// AI Chat with context and session management\nasync function processAIChat(message, caseId, sessionId, db) {\n  try {\n    if (!caseId) {\n      return { success: false, error: 'Case ID is required for AI chat' }\n    }\n    \n    // Get case context\n    const context = await getCaseContext(caseId, db)\n    \n    // Get recent chat history (last 10 messages)\n    const historyResult = await db.query(`\n      SELECT message_type, message_text, created_at\n      FROM ai_chat_messages \n      WHERE session_id = $1 \n      ORDER BY created_at DESC \n      LIMIT 10\n    `, [sessionId])\n\n    const history = historyResult.rows.reverse()\n\n    // Create smart document summary\n    const documentSummary = createDocumentSummary(context.photos)\n\n    // Build context for caching (static part)\n    const staticContext = `\n    –¢—ã - –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–¥–≤–æ–∫–∞—Ç–∞. –£ —Ç–µ–±—è –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ–ª–µ:\n\n    –î–ï–õ–û:\n    - –ù–∞–∑–≤–∞–Ω–∏–µ: ${context.case.title}\n    - –ö–ª–∏–µ–Ω—Ç: ${context.case.client_name}\n    - –û–ø–∏—Å–∞–Ω–∏–µ: ${context.case.description}\n    - –¢–∏–ø: ${context.case.case_type}\n    - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ${context.case.priority}\n    - –ù–æ–º–µ—Ä –¥–µ–ª–∞: ${context.case.case_number}\n\n    –î–û–ö–£–ú–ï–ù–¢–´ (${context.photos.length} —à—Ç.):\n    ${context.photos.map((photo, index) => `\n    ${index + 1}. ${photo.original_name}\n       - –°—Ç–∞—Ç—É—Å OCR: ${photo.raw_text ? '–û–±—Ä–∞–±–æ—Ç–∞–Ω' : '–ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω'}\n       ${photo.raw_text ? `- –¢–µ–∫—Å—Ç: ${photo.raw_text.substring(0, 200)}...` : ''}\n       ${photo.extracted_dates && photo.extracted_dates.length > 0 ? `- –î–∞—Ç—ã: ${photo.extracted_dates.join(', ')}` : ''}\n       ${photo.extracted_numbers && photo.extracted_numbers.length > 0 ? `- –ù–æ–º–µ—Ä–∞: ${photo.extracted_numbers.join(', ')}` : ''}\n       ${photo.extracted_names && photo.extracted_names.length > 0 ? `- –ò–º–µ–Ω–∞: ${photo.extracted_names.join(', ')}` : ''}\n       ${photo.extracted_amounts && photo.extracted_amounts.length > 0 ? `- –°—É–º–º—ã: ${photo.extracted_amounts.join(', ')}` : ''}\n    `).join('')}\n\n    –ò–ó–í–õ–ï–ß–ï–ù–ù–´–ï –î–ê–ù–ù–´–ï:\n    - –î–∞—Ç—ã: ${context.summary.extracted_dates.join(', ') || '–ù–µ –Ω–∞–π–¥–µ–Ω—ã'}\n    - –ù–æ–º–µ—Ä–∞: ${context.summary.extracted_numbers.join(', ') || '–ù–µ –Ω–∞–π–¥–µ–Ω—ã'}\n    - –ò–º–µ–Ω–∞: ${context.summary.extracted_names.join(', ') || '–ù–µ –Ω–∞–π–¥–µ–Ω—ã'}\n    - –°—É–º–º—ã: ${context.summary.extracted_amounts.join(', ') || '–ù–µ –Ω–∞–π–¥–µ–Ω—ã'}\n    `\n\n    // Build dynamic prompt (changes with each message)\n    const dynamicPrompt = `\n    ${history.length > 0 ? `\n    –ò–°–¢–û–†–ò–Ø –î–ò–ê–õ–û–ì–ê:\n    ${history.map(msg => `${msg.message_type}: ${msg.message_text}`).join('\\n')}\n    ` : ''}\n    \n    –í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø: ${message}\n    \n    –û—Ç–≤–µ—Ç—å –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–¥–≤–æ–∫–∞—Ç, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.\n    –ë—É–¥—å –∫—Ä–∞—Ç–∫–∏–º, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π, —Å–ø—Ä–æ—Å–∏ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã.\n    `\n\n    // Debug: Log context information\n    console.log(`AI Chat Context for case ${caseId}:`)\n    console.log(`- Photos count: ${context.photos.length}`)\n    console.log(`- Processed photos: ${context.photos.filter(p => p.raw_text).length}`)\n    console.log(`- Extracted dates: ${context.summary.extracted_dates.length}`)\n    console.log(`- Extracted names: ${context.summary.extracted_names.length}`)\n\n    // Generate response using standard API\n    const model = genAI.getGenerativeModel({ \n      model: \"gemini-1.5-flash\",\n      systemInstruction: \"–¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–¥–≤–æ–∫–∞—Ç–∞. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ª–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –¥–∞–≤–∞—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–π –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ–ª–µ, –≤–∫–ª—é—á–∞—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∏—Ö OCR —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∏ –ø–æ–ª–µ–∑–Ω—ã–º –≤ —Å–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–∞—Ö.\"\n    })\n    \n    const result = await model.generateContent(staticContext + '\\n\\n' + dynamicPrompt)\n    const response = await result.response\n    const aiResponse = response.text()\n    \n    return {\n      success: true,\n      response: aiResponse,\n      context_used: {\n        photos_count: context.summary.total_photos,\n        processed_photos: context.summary.processed_photos,\n        extracted_data: context.summary\n      }\n    }\n  } catch (error) {\n    console.error('AI Chat Error:', error)\n    return { success: false, error: error.message }\n  }\n}\n\n// Route handler function\nasync function handleRoute(request, { params }) {\n  const { path = [] } = params\n  const route = `/${path.join('/')}`\n  const method = request.method\n\n  try {\n    const db = await connectToPostgres()\n\n    // Root endpoint\n    if (route === '/' && method === 'GET') {\n      return handleCORS(NextResponse.json({ \n        message: \"Legal Practice API Active (Optimized with Sessions)\",\n        features: [\n          \"Case management with priorities\",\n          \"Photo upload with OCR via Gemini\",\n          \"AI chat with session memory\",\n          \"Context caching for efficiency\",\n          \"PostgreSQL database\"\n        ]\n      }))\n    }\n\n    // Cases endpoints\n    if (route === '/cases' && method === 'GET') {\n      const result = await db.query(`\n        SELECT * FROM cases \n        ORDER BY created_at DESC \n        LIMIT 100\n      `)\n      \n      return handleCORS(NextResponse.json(result.rows))\n    }\n\n    if (route === '/cases' && method === 'POST') {\n      const body = await request.json()\n      \n      if (!body.title || !body.client_name) {\n        return handleCORS(NextResponse.json(\n          { error: \"title and client_name are required\" }, \n          { status: 400 }\n        ))\n      }\n\n      const newCase = {\n        id: uuidv4(),\n        case_number: `CASE-${Date.now()}`,\n        title: body.title,\n        client_name: body.client_name,\n        description: body.description || '',\n        case_type: body.case_type || '',\n        priority: body.priority || 'medium',\n        status: 'active',\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      }\n\n      const result = await db.query(`\n        INSERT INTO cases (id, case_number, title, client_name, description, case_type, priority, status, created_at, updated_at)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n        RETURNING *\n      `, [\n        newCase.id, newCase.case_number, newCase.title, newCase.client_name,\n        newCase.description, newCase.case_type, newCase.priority, newCase.status,\n        newCase.created_at, newCase.updated_at\n      ])\n      \n      return handleCORS(NextResponse.json(result.rows[0]))\n    }\n\n    // Get case by ID with full context\n    if (route.match(/^\\/cases\\/[^\\/]+$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      if (!caseId) {\n        return handleCORS(NextResponse.json({ error: 'Case ID is required' }, { status: 400 }))\n      }\n      \n      try {\n        const context = await getCaseContext(caseId, db)\n        return handleCORS(NextResponse.json(context))\n      } catch (error) {\n        return handleCORS(NextResponse.json({ error: error.message }, { status: 404 }))\n      }\n    }\n\n    // Photo upload endpoint\n    if (route === '/photos/upload' && method === 'POST') {\n      try {\n        const formData = await request.formData()\n        const file = formData.get('file')\n        const caseId = formData.get('caseId')\n        \n        if (!file || !caseId) {\n          return handleCORS(NextResponse.json(\n            { error: \"File and caseId are required\" }, \n            { status: 400 }\n          ))\n        }\n\n        const bytes = await file.arrayBuffer()\n        const buffer = Buffer.from(bytes)\n\n        const photoId = uuidv4()\n        const fileName = `${photoId}-${file.name}`\n\n        const orderResult = await db.query(`\n          SELECT COALESCE(MAX(display_order), 0) + 1 as next_order\n          FROM case_photos WHERE case_id = $1\n        `, [caseId])\n\n        const photoDoc = {\n          id: photoId,\n          case_id: caseId,\n          file_name: fileName,\n          original_name: file.name,\n          file_type: file.type,\n          file_size: buffer.length,\n          file_path: `/uploads/${fileName}`,\n          display_order: orderResult.rows[0].next_order,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        }\n\n        const result = await db.query(`\n          INSERT INTO case_photos (id, case_id, file_name, original_name, file_type, file_size, file_path, display_order, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n          RETURNING *\n        `, [\n          photoDoc.id, photoDoc.case_id, photoDoc.file_name, photoDoc.original_name,\n          photoDoc.file_type, photoDoc.file_size, photoDoc.file_path, photoDoc.display_order,\n          photoDoc.created_at, photoDoc.updated_at\n        ])\n\n        // Start OCR processing in background\n        processPhotoOCR(photoId, caseId, buffer, db)\n\n                // Clear context cache\n                await clearCaseCache(caseId, db)\n\n        return handleCORS(NextResponse.json({ \n          success: true, \n          photoId: photoId,\n          message: \"Photo uploaded, OCR processing started with Gemini 2.5 Flash\" \n        }))\n\n      } catch (error) {\n        console.error('Upload error:', error)\n        return handleCORS(NextResponse.json(\n          { error: \"Upload failed: \" + error.message }, \n          { status: 500 }\n        ))\n      }\n    }\n\n    // OCR status check endpoint\n    if (route.match(/^\\/photos\\/[^\\/]+\\/ocr-status$/) && method === 'GET') {\n      const photoId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT * FROM photo_ocr_results WHERE photo_id = $1\n      `, [photoId])\n      \n      if (result.rows.length === 0) {\n        return handleCORS(NextResponse.json({\n          status: 'pending',\n          progress: 0,\n          extractedText: null\n        }))\n      }\n      \n      const ocr = result.rows[0]\n      return handleCORS(NextResponse.json({\n        status: ocr.processing_status,\n        progress: ocr.processing_status === 'completed' ? 100 : \n                 ocr.processing_status === 'processing' ? 50 : 0,\n        extractedText: ocr.raw_text,\n        extractedDates: ocr.extracted_dates,\n        extractedNumbers: ocr.extracted_numbers,\n        extractedNames: ocr.extracted_names,\n        extractedAmounts: ocr.extracted_amounts,\n        confidence: ocr.confidence_score\n      }))\n    }\n\n    // Add comment to photo\n    if (route.match(/^\\/photos\\/[^\\/]+\\/comments$/) && method === 'POST') {\n      const photoId = route.split('/')[2]\n      const body = await request.json()\n      \n      if (!body.comment_text) {\n        return handleCORS(NextResponse.json(\n          { error: \"comment_text is required\" }, \n          { status: 400 }\n        ))\n      }\n\n      const photoResult = await db.query(`\n        SELECT case_id FROM case_photos WHERE id = $1\n      `, [photoId])\n      \n      if (photoResult.rows.length === 0) {\n        return handleCORS(NextResponse.json({ error: \"Photo not found\" }, { status: 404 }))\n      }\n\n      const commentId = uuidv4()\n      const result = await db.query(`\n        INSERT INTO photo_comments (id, photo_id, case_id, comment_text, author_name, created_at, updated_at)\n        VALUES ($1, $2, $3, $4, $5, $6, $7)\n        RETURNING *\n      `, [\n        commentId, photoId, photoResult.rows[0].case_id, body.comment_text,\n        body.author_name || '–ê–¥–≤–æ–∫–∞—Ç', new Date().toISOString(), new Date().toISOString()\n      ])\n      \n      return handleCORS(NextResponse.json(result.rows[0]))\n    }\n\n    // AI Chat endpoint with session management\n    if (route.match(/^\\/cases\\/[^\\/]+\\/chat$/) && method === 'POST') {\n      const caseId = route.split('/')[2]\n      const body = await request.json()\n      \n      if (!body.message) {\n        return handleCORS(NextResponse.json(\n          { error: \"message is required\" }, \n          { status: 400 }\n        ))\n      }\n\n      // Get or create active session\n      const sessionId = await getOrCreateActiveSession(caseId, db)\n\n      // Process AI chat\n      const aiResponse = await processAIChat(body.message, caseId, sessionId, db)\n\n      if (!aiResponse.success) {\n        return handleCORS(NextResponse.json(\n          { error: \"AI chat failed: \" + aiResponse.error }, \n          { status: 500 }\n        ))\n      }\n\n      // Save user message\n      await db.query(`\n        INSERT INTO ai_chat_messages (id, session_id, case_id, message_type, message_text, context_used, created_at)\n        VALUES ($1, $2, $3, $4, $5, $6, $7)\n      `, [\n        uuidv4(), sessionId, caseId, 'user', body.message, \n        JSON.stringify(aiResponse.context_used), new Date().toISOString()\n      ])\n\n      // Save AI response\n      await db.query(`\n        INSERT INTO ai_chat_messages (id, session_id, case_id, message_type, message_text, context_used, created_at)\n        VALUES ($1, $2, $3, $4, $5, $6, $7)\n      `, [\n        uuidv4(), sessionId, caseId, 'ai', aiResponse.response, \n        JSON.stringify(aiResponse.context_used), new Date().toISOString()\n      ])\n\n      return handleCORS(NextResponse.json({\n        success: true,\n        response: aiResponse.response,\n        session_id: sessionId,\n        context_used: aiResponse.context_used\n      }))\n    }\n\n    // Get chat history for session\n    if (route.match(/^\\/cases\\/[^\\/]+\\/chat$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT \n          acm.*,\n          acs.session_name\n        FROM ai_chat_messages acm\n        JOIN ai_chat_sessions acs ON acm.session_id = acs.id\n        WHERE acm.case_id = $1 \n        ORDER BY acm.created_at ASC\n      `, [caseId])\n      \n      return handleCORS(NextResponse.json(result.rows))\n    }\n\n    // Get active sessions for case\n    if (route.match(/^\\/cases\\/[^\\/]+\\/sessions$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT * FROM ai_chat_sessions \n        WHERE case_id = $1 \n        ORDER BY created_at DESC\n      `, [caseId])\n      \n      return handleCORS(NextResponse.json(result.rows))\n    }\n\n    // Photo view endpoint\n    if (route.match(/^\\/photos\\/[^\\/]+\\/view$/) && method === 'GET') {\n      const photoId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT * FROM case_photos WHERE id = $1\n      `, [photoId])\n      \n      if (result.rows.length === 0) {\n        return handleCORS(NextResponse.json({ error: \"Photo not found\" }, { status: 404 }))\n      }\n      \n      const photo = result.rows[0]\n      \n      // For now, return a placeholder image URL\n      // In production, you would serve the actual file\n      return handleCORS(NextResponse.json({\n        id: photo.id,\n        original_name: photo.original_name,\n        file_path: photo.file_path,\n        placeholder_url: `data:image/svg+xml;base64,${Buffer.from(`\n          <svg width=\"400\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"400\" height=\"300\" fill=\"#f3f4f6\"/>\n            <text x=\"200\" y=\"150\" text-anchor=\"middle\" font-family=\"Arial\" font-size=\"16\" fill=\"#6b7280\">\n              ${photo.original_name}\n            </text>\n          </svg>\n        `).toString('base64')}`\n      }))\n    }\n\n    // Get detailed OCR text for specific photo\n    if (route.match(/^\\/photos\\/[^\\/]+\\/ocr-details$/) && method === 'GET') {\n      const photoId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT \n          cp.*,\n          ocr.raw_text,\n          ocr.extracted_dates,\n          ocr.extracted_numbers,\n          ocr.extracted_names,\n          ocr.extracted_amounts,\n          ocr.confidence_score\n        FROM case_photos cp\n        LEFT JOIN photo_ocr_results ocr ON cp.id = ocr.photo_id\n        WHERE cp.id = $1\n      `, [photoId])\n      \n      if (result.rows.length === 0) {\n        return handleCORS(NextResponse.json({ error: \"Photo not found\" }, { status: 404 }))\n      }\n      \n      const photo = result.rows[0]\n      return handleCORS(NextResponse.json({\n        id: photo.id,\n        original_name: photo.original_name,\n        raw_text: photo.raw_text,\n        extracted_dates: photo.extracted_dates,\n        extracted_numbers: photo.extracted_numbers,\n        extracted_names: photo.extracted_names,\n        extracted_amounts: photo.extracted_amounts,\n        confidence_score: photo.confidence_score,\n        processing_status: photo.processing_status\n      }))\n    }\n\n    // Additional files endpoints\n    if (route === '/additional-files/upload' && method === 'POST') {\n      try {\n        const formData = await request.formData()\n        const file = formData.get('file')\n        const caseId = formData.get('caseId')\n        const description = formData.get('description') || ''\n        const isImportant = formData.get('isImportant') === 'true'\n        \n        if (!file || !caseId) {\n          return handleCORS(NextResponse.json(\n            { error: \"File and caseId are required\" }, \n            { status: 400 }\n          ))\n        }\n\n        const bytes = await file.arrayBuffer()\n        const buffer = Buffer.from(bytes)\n\n        const fileId = uuidv4()\n        const fileName = `${fileId}-${file.name}`\n\n        const fileDoc = {\n          id: fileId,\n          case_id: caseId,\n          file_name: fileName,\n          original_name: file.name,\n          file_type: file.type,\n          file_size: buffer.length,\n          file_path: `/uploads/additional/${fileName}`,\n          description: description,\n          is_important: isImportant,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        }\n\n        const result = await db.query(`\n          INSERT INTO case_additional_files (id, case_id, file_name, original_name, file_type, file_size, file_path, description, is_important, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n          RETURNING *\n        `, [\n          fileDoc.id, fileDoc.case_id, fileDoc.file_name, fileDoc.original_name,\n          fileDoc.file_type, fileDoc.file_size, fileDoc.file_path, fileDoc.description,\n          fileDoc.is_important, fileDoc.created_at, fileDoc.updated_at\n        ])\n\n                // Clear context cache\n                await clearCaseCache(caseId, db)\n\n        return handleCORS(NextResponse.json({ \n          success: true, \n          fileId: fileId,\n          message: \"Additional file uploaded successfully\" \n        }))\n\n      } catch (error) {\n        console.error('Additional file upload error:', error)\n        return handleCORS(NextResponse.json(\n          { error: \"Upload failed: \" + error.message }, \n          { status: 500 }\n        ))\n      }\n    }\n\n    // Get additional files for a case\n    if (route.match(/^\\/cases\\/[^\\/]+\\/additional-files$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      const result = await db.query(`\n        SELECT * FROM case_additional_files \n        WHERE case_id = $1 \n        ORDER BY created_at DESC\n      `, [caseId])\n      \n      return handleCORS(NextResponse.json(result.rows))\n    }\n\n    // Delete additional file\n    if (route.match(/^\\/additional-files\\/[^\\/]+$/) && method === 'DELETE') {\n      const fileId = route.split('/')[2]\n      \n      const result = await db.query(`\n        DELETE FROM case_additional_files \n        WHERE id = $1 \n        RETURNING case_id\n      `, [fileId])\n      \n      if (result.rows.length === 0) {\n        return handleCORS(NextResponse.json({ error: \"File not found\" }, { status: 404 }))\n      }\n      \n      // Invalidate context cache\n      await db.query(`\n        DELETE FROM case_context_cache WHERE case_id = $1\n      `, [result.rows[0].case_id])\n      \n      return handleCORS(NextResponse.json({ success: true }))\n    }\n\n    // Generate PDF with all OCR transcriptions for a case\n    if (route.match(/^\\/cases\\/[^\\/]+\\/pdf$/) && method === 'GET') {\n      const caseId = route.split('/')[2]\n      \n      try {\n        // Get case details\n        const caseResult = await db.query(`\n          SELECT * FROM cases WHERE id = $1\n        `, [caseId])\n        \n        if (caseResult.rows.length === 0) {\n          return handleCORS(NextResponse.json({ error: \"Case not found\" }, { status: 404 }))\n        }\n        \n        const case_ = caseResult.rows[0]\n        \n        // Get all photos with OCR results\n        const photosResult = await db.query(`\n          SELECT \n            cp.*,\n            ocr.raw_text,\n            ocr.extracted_dates,\n            ocr.extracted_numbers,\n            ocr.extracted_names,\n            ocr.extracted_amounts,\n            ocr.confidence_score\n          FROM case_photos cp\n          LEFT JOIN photo_ocr_results ocr ON cp.id = ocr.photo_id\n          WHERE cp.case_id = $1 AND ocr.raw_text IS NOT NULL\n          ORDER BY cp.display_order\n        `, [caseId])\n        \n        if (photosResult.rows.length === 0) {\n          return handleCORS(NextResponse.json({ error: \"No OCR results found for this case\" }, { status: 404 }))\n        }\n        \n        // Generate PDF\n        const PDFDocument = require('pdfkit')\n        const doc = new PDFDocument()\n        \n        // Set response headers for PDF download\n        const response = new NextResponse()\n        response.headers.set('Content-Type', 'application/pdf')\n        response.headers.set('Content-Disposition', `attachment; filename=\"case_${case_.case_number}_transcriptions.pdf\"`)\n        \n        // Pipe PDF to response\n        doc.pipe(response)\n        \n        // Add title page\n        doc.fontSize(20).text(`–î–µ–ª–æ: ${case_.title}`, 50, 50)\n        doc.fontSize(16).text(`–ö–ª–∏–µ–Ω—Ç: ${case_.client_name}`, 50, 80)\n        doc.fontSize(14).text(`–ù–æ–º–µ—Ä –¥–µ–ª–∞: ${case_.case_number}`, 50, 110)\n        doc.fontSize(12).text(`–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: ${new Date(case_.created_at).toLocaleDateString('ru-RU')}`, 50, 140)\n        doc.fontSize(12).text(`–¢–∏–ø –¥–µ–ª–∞: ${case_.case_type}`, 50, 160)\n        doc.fontSize(12).text(`–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ${case_.priority}`, 50, 180)\n        \n        if (case_.description) {\n          doc.fontSize(12).text(`–û–ø–∏—Å–∞–Ω–∏–µ:`, 50, 210)\n          doc.fontSize(10).text(case_.description, 50, 230, { width: 500 })\n        }\n        \n        // Add new page\n        doc.addPage()\n        \n        // Add OCR transcriptions\n        doc.fontSize(16).text('–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤', 50, 50)\n        \n        photosResult.rows.forEach((photo, index) => {\n          // Add new page for each photo (except first)\n          if (index > 0) {\n            doc.addPage()\n          }\n          \n          // Photo header\n          doc.fontSize(14).text(`–î–æ–∫—É–º–µ–Ω—Ç ${index + 1}: ${photo.original_name}`, 50, 50)\n          doc.fontSize(10).text(`–ó–∞–≥—Ä—É–∂–µ–Ω: ${new Date(photo.created_at).toLocaleDateString('ru-RU')}`, 50, 70)\n          doc.fontSize(10).text(`–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å OCR: ${(photo.confidence_score * 100).toFixed(1)}%`, 50, 85)\n          \n          // OCR text\n          doc.fontSize(12).text('–¢–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞:', 50, 110)\n          doc.fontSize(10).text(photo.raw_text, 50, 130, { \n            width: 500,\n            align: 'left'\n          })\n          \n          // Extracted data\n          if (photo.extracted_dates && photo.extracted_dates.length > 0) {\n            doc.fontSize(10).text(`–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã: ${photo.extracted_dates.join(', ')}`, 50, doc.y + 20)\n          }\n          \n          if (photo.extracted_numbers && photo.extracted_numbers.length > 0) {\n            doc.fontSize(10).text(`–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞: ${photo.extracted_numbers.join(', ')}`, 50, doc.y + 10)\n          }\n          \n          if (photo.extracted_names && photo.extracted_names.length > 0) {\n            doc.fontSize(10).text(`–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞: ${photo.extracted_names.join(', ')}`, 50, doc.y + 10)\n          }\n          \n          if (photo.extracted_amounts && photo.extracted_amounts.length > 0) {\n            doc.fontSize(10).text(`–ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —Å—É–º–º—ã: ${photo.extracted_amounts.join(', ')}`, 50, doc.y + 10)\n          }\n        })\n        \n        // Finalize PDF\n        doc.end()\n        \n        return handleCORS(response)\n        \n      } catch (error) {\n        console.error('PDF generation error:', error)\n        return handleCORS(NextResponse.json(\n          { error: \"PDF generation failed: \" + error.message }, \n          { status: 500 }\n        ))\n      }\n    }\n\n    // Route not found\n    return handleCORS(NextResponse.json(\n      { error: `Route ${route} not found` }, \n      { status: 404 }\n    ))\n\n  } catch (error) {\n    console.error('API Error:', error)\n    return handleCORS(NextResponse.json(\n      { error: \"Internal server error: \" + error.message }, \n      { status: 500 }\n    ))\n  }\n}\n\n// Background OCR processing function\nasync function processPhotoOCR(photoId, caseId, buffer, db) {\n  try {\n    console.log(`Starting OCR processing for photo ${photoId} with Gemini 2.5 Flash`)\n    \n    // Check if OCR result already exists\n    const existingResult = await db.query(`\n      SELECT id FROM photo_ocr_results WHERE photo_id = $1\n    `, [photoId])\n    \n    if (existingResult.rows.length === 0) {\n      await db.query(`\n        INSERT INTO photo_ocr_results (id, photo_id, case_id, processing_status, created_at, updated_at)\n        VALUES ($1, $2, $3, $4, $5, $6)\n      `, [uuidv4(), photoId, caseId, 'processing', new Date().toISOString(), new Date().toISOString()])\n    } else {\n      await db.query(`\n        UPDATE photo_ocr_results \n        SET processing_status = $1, updated_at = $2\n        WHERE photo_id = $3\n      `, ['processing', new Date().toISOString(), photoId])\n    }\n    \n    const ocrResult = await processOCR(buffer)\n\n    if (ocrResult.success) {\n      const extractedDates = extractDatesFromText(ocrResult.text)\n      const extractedNumbers = extractNumbersFromText(ocrResult.text)\n      const extractedNames = extractNamesFromText(ocrResult.text)\n      const extractedAmounts = extractAmountsFromText(ocrResult.text)\n      \n      await db.query(`\n        UPDATE photo_ocr_results \n        SET raw_text = $1, extracted_dates = $2, extracted_numbers = $3, \n            extracted_names = $4, extracted_amounts = $5, confidence_score = $6,\n            processing_status = 'completed', updated_at = $7\n        WHERE photo_id = $8\n      `, [\n        ocrResult.text, \n        extractedDates, \n        extractedNumbers,\n        extractedNames,\n        extractedAmounts,\n        ocrResult.confidence,\n        new Date().toISOString(),\n        photoId\n      ])\n      \n                // Clear context cache\n                await clearCaseCache(caseId, db)\n      \n      console.log(`OCR completed for photo ${photoId}`)\n    } else {\n      await db.query(`\n        UPDATE photo_ocr_results \n        SET processing_status = 'failed', error_message = $1, updated_at = $2\n        WHERE photo_id = $3\n      `, [ocrResult.error, new Date().toISOString(), photoId])\n      \n      console.error(`OCR failed for photo ${photoId}:`, ocrResult.error)\n    }\n  } catch (error) {\n    console.error('OCR processing error:', error)\n    \n    await db.query(`\n      UPDATE photo_ocr_results \n      SET processing_status = 'failed', error_message = $1, updated_at = $2\n      WHERE photo_id = $3\n    `, [error.message, new Date().toISOString(), photoId])\n  }\n}\n\n// Cache management functions\nasync function clearCaseCache(caseId, db) {\n  try {\n    // Clear cache from database\n    await db.query(`\n      DELETE FROM case_context_cache \n      WHERE case_id = $1\n    `, [caseId])\n    \n    console.log(`Cleared cache for case: ${caseId}`)\n  } catch (error) {\n    console.error('Cache cleanup error:', error)\n  }\n}\n\n// Helper functions for extracting structured data\nfunction extractDatesFromText(text) {\n  if (!text) return []\n  \n  const dateRegexes = [\n    /(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})/g,\n    /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/g,\n    /(\\d{4})-(\\d{1,2})-(\\d{1,2})/g\n  ]\n  \n  const dates = []\n  dateRegexes.forEach(regex => {\n    let match\n    while ((match = regex.exec(text)) !== null) {\n      dates.push(match[0])\n    }\n  })\n  \n  return [...new Set(dates)]\n}\n\nfunction extractNumbersFromText(text) {\n  if (!text) return []\n  \n  const numberRegexes = [\n    /‚Ññ\\s*(\\d+(?:[\\/\\-]\\d+)*)/g,\n    /–¥–µ–ª–æ\\s*‚Ññ?\\s*(\\d+(?:[\\/\\-]\\d+)*)/gi\n  ]\n\n  const numbers = []\n  numberRegexes.forEach(regex => {\n    let match\n    while ((match = regex.exec(text)) !== null) {\n      numbers.push(match[0])\n    }\n  })\n\n  return [...new Set(numbers)]\n}\n\nfunction extractNamesFromText(text) {\n  if (!text) return []\n  \n  const nameRegex = /[–ê-–Ø–Å][–∞-—è—ë]+\\s+[–ê-–Ø–Å][–∞-—è—ë]+\\s+[–ê-–Ø–Å][–∞-—è—ë]+/g\n  const names = []\n  let match\n  while ((match = nameRegex.exec(text)) !== null) {\n    names.push(match[0])\n  }\n  return [...new Set(names)]\n}\n\nfunction extractAmountsFromText(text) {\n  if (!text) return []\n  \n  const amountRegex = /(\\d+(?:\\s\\d{3})*(?:[,\\.]\\d{2})?)\\s*(?:—Ä—É–±|‚ÇΩ|—Ä—É–±–ª–µ–π)/gi\n  const amounts = []\n  let match\n  while ((match = amountRegex.exec(text)) !== null) {\n    amounts.push(match[0])\n  }\n  return [...new Set(amounts)]\n}\n\n// Export all HTTP methods\nexport const GET = handleRoute\nexport const POST = handleRoute\nexport const PUT = handleRoute\nexport const DELETE = handleRoute\nexport const PATCH = handleRoute\n","size_bytes":37240}},"version":1}